!function(c){function e(e){for(var t,n,r=e[0],i=e[1],o=e[2],a=0,s=[];a<r.length;a++)n=r[a],l[n]&&s.push(l[n][0]),l[n]=0;for(t in i)Object.prototype.hasOwnProperty.call(i,t)&&(c[t]=i[t]);for(p&&p(e);s.length;)s.shift()();return m.push.apply(m,o||[]),u()}function u(){for(var e,t=0;t<m.length;t++){for(var n=m[t],r=!0,i=1;i<n.length;i++){var o=n[i];0!==l[o]&&(r=!1)}r&&(m.splice(t--,1),e=a(a.s=n[0]))}return e}var n={},l={19:0},m=[];function a(e){if(n[e])return n[e].exports;var t=n[e]={i:e,l:!1,exports:{}};return c[e].call(t.exports,t,t.exports,a),t.l=!0,t.exports}a.m=c,a.c=n,a.d=function(e,t,n){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},a.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(t,e){if(1&e&&(t=a(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)a.d(n,r,function(e){return t[e]}.bind(null,r));return n},a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="";var t=window.webpackJsonp=window.webpackJsonp||[],r=t.push.bind(t);t.push=e,t=t.slice();for(var i=0;i<t.length;i++)e(t[i]);var p=r;m.push([783,0]),u()}({102:function(e,t,n){"use strict";var o=n(200);e.exports=function(e){var t=(n=e,"number"==typeof n?n:"string"!=typeof n?null:/[^0-9,\-]/.test(n)?null:parseInt(n.replace(",",""),10));var n;if(null===t)return e;if(t<1e4)return o("#,##0.",t);if(t<1e6){var r=Math.floor(t/1e3)/10;return o("###0.#万",r)}if(t<1e7)return r=Math.floor(t/1e4),o("#,###.万",r);if(t<1e8)return r=Math.floor(t/1e4),o("#,###.万",r);var i=Math.floor(t/1e6)/100;return o("###0.##億",i)}},104:function(e,t,n){var s=n(8),c=n(91);e.exports=function(e){var t=s(e),n=t.getFullYear(),r=new Date(0);r.setFullYear(n+1,0,4),r.setHours(0,0,0,0);var i=c(r),o=new Date(0);o.setFullYear(n,0,4),o.setHours(0,0,0,0);var a=c(o);return t.getTime()>=i.getTime()?n+1:t.getTime()>=a.getTime()?n:n-1}},112:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n(1).__exportStar(n(204),t)},120:function(e,t,n){var r=n(8);e.exports=function(e){var t=r(e);return t.setHours(0,0,0,0),t}},125:function(e,t){e.exports=function(e){return e instanceof Date}},127:function(e,t,n){var r=n(177),i=n(162),o=n(104),c=n(8),u=n(179),l=n(163);var m={M:function(e){return e.getMonth()+1},MM:function(e){return s(e.getMonth()+1,2)},Q:function(e){return Math.ceil((e.getMonth()+1)/3)},D:function(e){return e.getDate()},DD:function(e){return s(e.getDate(),2)},DDD:function(e){return r(e)},DDDD:function(e){return s(r(e),3)},d:function(e){return e.getDay()},E:function(e){return e.getDay()||7},W:function(e){return i(e)},WW:function(e){return s(i(e),2)},YY:function(e){return s(e.getFullYear(),4).substr(2)},YYYY:function(e){return s(e.getFullYear(),4)},GG:function(e){return String(o(e)).substr(2)},GGGG:function(e){return o(e)},H:function(e){return e.getHours()},HH:function(e){return s(e.getHours(),2)},h:function(e){var t=e.getHours();return 0===t?12:12<t?t%12:t},hh:function(e){return s(m.h(e),2)},m:function(e){return e.getMinutes()},mm:function(e){return s(e.getMinutes(),2)},s:function(e){return e.getSeconds()},ss:function(e){return s(e.getSeconds(),2)},S:function(e){return Math.floor(e.getMilliseconds()/100)},SS:function(e){return s(Math.floor(e.getMilliseconds()/10),2)},SSS:function(e){return s(e.getMilliseconds(),3)},Z:function(e){return a(e.getTimezoneOffset(),":")},ZZ:function(e){return a(e.getTimezoneOffset())},X:function(e){return Math.floor(e.getTime()/1e3)},x:function(e){return e.getTime()}};function a(e,t){t=t||"";var n=0<e?"-":"+",r=Math.abs(e),i=r%60;return n+s(Math.floor(r/60),2)+t+s(i,2)}function s(e,t){for(var n=Math.abs(e).toString();n.length<t;)n="0"+n;return n}e.exports=function(e,t,n){var r=t?String(t):"YYYY-MM-DDTHH:mm:ss.SSSZ",i=(n||{}).locale,o=l.format.formatters,a=l.format.formattingTokensRegExp;i&&i.format&&i.format.formatters&&(o=i.format.formatters,i.format.formattingTokensRegExp&&(a=i.format.formattingTokensRegExp));var s=c(e);return u(s)?function(e,t,n){var r,i,o,a=e.match(n),s=a.length;for(r=0;r<s;r++)i=t[a[r]]||m[a[r]],a[r]=i||((o=a[r]).match(/\[[\s\S]/)?o.replace(/^\[|]$/g,""):o.replace(/\\/g,""));return function(e){for(var t="",n=0;n<s;n++)a[n]instanceof Function?t+=a[n](e,m):t+=a[n];return t}}(r,o,a)(s):"Invalid Date"}},128:function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n(1),i=function(){function e(e){this.context=e}return e.prototype.displayLog=function(e){return window.fetch(this.context.public_api_url+"v1/recommend/log/display-log",{method:"POST",headers:this.createHeaders(),credentials:"include",body:JSON.stringify(r.__assign({},e,{site:this.context.izumo_service_code}))})},e.prototype.responseLog=function(e){return window.fetch(this.context.public_api_url+"v1/recommend/log/response-log",{method:"POST",headers:this.createHeaders(),body:JSON.stringify(e)})},e.prototype.createHeaders=function(){var e=new Headers;return e.append("Content-type","application/json"),e.append("X-Request-With",location.href),e.append("X-Frontend-Id",""+this.context.frontend_id),e.append("X-Frontend-Version","0"),e.append("X-Model-Name","null"),e.append("X-Os-Version","null"),e},e}()},130:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),i=n(49),a=n(243),s=n(244),c=n(245),o=function(){function e(e,t){var o=this;this.touchingInfo=null,this.itemsX=0,this.inertiaCurrentVelocity=0,this.inertiaTimerId=null,this.eventEmitter=new i.EventEmitter,this.onTransitionEnd=function(e){o.emit("slideEnd",{currentIndex:o.grid.length-1-o.grid.indexOf(o.getNearestGridX(o.itemsX)),total:o.grid.length})},this.onTouchStart=function(e){o.stopInertiaMove();var t=e.touches[0];o.touchingInfo={touchStartX:t.pageX,touchStartY:t.pageY,itemsStartX:o.itemsX,lastTouchX:t.pageX,lastUpdatedAtMS:Date.now(),deltaTouchX:0,deltaUpdatedAtMS:0}},this.onTouchMove=function(e){if(!1!==o.touchingInfo.isHorizontalScroll){var t=e.touches[0],n=t.pageX-o.touchingInfo.touchStartX;if(void 0===o.touchingInfo.isHorizontalScroll){var r=t.pageY-o.touchingInfo.touchStartY;o.touchingInfo.isHorizontalScroll=0<Math.abs(n)-Math.abs(r)}var i=Date.now();o.touchingInfo.deltaTouchX=o.touchingInfo.lastTouchX-t.pageX,o.touchingInfo.deltaUpdatedAtMS=i-o.touchingInfo.lastUpdatedAtMS,o.touchingInfo.lastTouchX=t.pageX,o.touchingInfo.lastUpdatedAtMS=i,o.touchingInfo.isHorizontalScroll&&(e.preventDefault(),o.moveFrameTo(o.touchingInfo.itemsStartX+n*o.options.scrollDeltaCoefficient))}},this.onTouchEnd=function(e){if(o.touchingInfo.deltaUpdatedAtMS){var t=o.touchingInfo.deltaTouchX*o.options.scrollDeltaCoefficient/o.touchingInfo.deltaUpdatedAtMS;!o.options.inertia||!t||o.abs(t)<.1?o.moveFrameTo(o.getNearestGridX(o.itemsX),o.options.transitionDurationSec):o.startInertiaMove(-t)}o.touchingInfo=null},this.onWindowResize=function(){o.reset()},this.options=r.__assign({},c.defaultOptions,t),this.styleKey=new a.default,this.rootElement=e,this.frameElement=e.getElementsByClassName(this.options.frameClassName)[0],this.itemsElement=e.getElementsByClassName(this.options.itemsClassName)[0],this.touchEventListenerOption=!!s.default()&&{passive:!1},this.reset(),this.frameElement.addEventListener("touchstart",this.onTouchStart,this.touchEventListenerOption),this.frameElement.addEventListener("touchmove",this.onTouchMove,this.touchEventListenerOption),this.frameElement.addEventListener("touchend",this.onTouchEnd),this.itemsElement.addEventListener("transitionEnd",this.onTransitionEnd),this.itemsElement.addEventListener("webkitTransitionEnd",this.onTransitionEnd),window.addEventListener("resize",this.onWindowResize)}return Object.defineProperty(e.prototype,"hasNext",{get:function(){return 0<=this.nextGridIndex()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"hasPrev",{get:function(){return this.prevGridIndex()<=this.grid.length-1},enumerable:!0,configurable:!0}),e.prototype.destroy=function(){this.frameElement.removeEventListener("touchstart",this.onTouchStart),this.frameElement.removeEventListener("touchmove",this.onTouchMove),this.frameElement.removeEventListener("touchend",this.onTouchEnd),this.itemsElement.removeEventListener("transitionEnd",this.onTransitionEnd),this.itemsElement.removeEventListener("webkitTransitionEnd",this.onTransitionEnd),window.removeEventListener("resize",this.onWindowResize)},e.prototype.reset=function(){this.initializeGrid()},e.prototype.next=function(){this.hasNext&&(this.stopInertiaMove(),this.moveFrameTo(this.grid[this.nextGridIndex()],this.options.transitionDurationSec))},e.prototype.prev=function(){this.hasPrev&&(this.stopInertiaMove(),this.moveFrameTo(this.grid[this.prevGridIndex()],this.options.transitionDurationSec))},e.prototype.on=function(e,t){return this.eventEmitter.on(e,t),this},e.prototype.emit=function(e,t){this.eventEmitter.emit(e,t)},e.prototype.nextGridIndex=function(){var e=this.getNearestGridX(this.itemsX);return this.grid.indexOf(e)-1},e.prototype.prevGridIndex=function(){var e=this.getNearestGridX(this.itemsX);return this.grid.indexOf(e)+1},e.prototype.initializeGrid=function(){var e=this.itemsElement.scrollWidth-this.frameElement.clientWidth;if(e<0)this.grid=[0];else{for(var t=[],n=0;n<this.itemsElement.children.length;++n){var r=this.itemsElement.children[n].offsetLeft;if(e<=r){t.push(e);break}t.push(r)}this.grid=t.map(function(e){return-e}).reverse()}},e.prototype.moveFrameTo=function(e,t){void 0===t&&(t=0);var n=this.itemsElement.style;n[this.styleKey.transition]=t+"s "+this.options.transitionTimingFunction,n[this.styleKey.transform]="translate("+e+"px, 0)",this.itemsX=e},e.prototype.startInertiaMove=function(e){var r=this,i=this.getNearestGridX(this.itemsX+.5*(0<e?1:-1)*e*e/this.options.inertiaAcceleration),t=i-this.itemsX;if(e*t<0)this.moveFrameTo(i,this.options.transitionDurationSec);else{var o=-.5*e*e/t,a=this.options.inertiaIntervalMS;this.inertiaCurrentVelocity=e,this.inertiaTimerId=setInterval(function(){var e=r.inertiaCurrentVelocity,t=r.itemsX+e*a,n=i-t;if(e<0?-1<n:n<1)return r.stopInertiaMove(),void r.moveFrameTo(i,Math.min(-1*e/o*.001,r.options.transitionDurationSec));r.moveFrameTo(t),r.inertiaCurrentVelocity=e+o*a},a)}},e.prototype.stopInertiaMove=function(){null!==this.inertiaTimerId&&(clearInterval(this.inertiaTimerId),this.inertiaTimerId=null)},e.prototype.getNearestGridX=function(e){var t=this.grid;if(t[t.length-1]<e)return t[t.length-1];for(var n=t.length-1;0<n;--n)if(t[n-1]<=e&&e<=t[n])return e-t[n-1]<t[n]-e?t[n-1]:t[n];return t[0]},e.prototype.abs=function(e){return e<0?-e:e},e}();t.default=o},135:function(e,t,n){var r=n(105);e.exports=function(){return r.Date.now()}},136:function(e,t,n){var r=n(62),i=n(164),o=/^\s+|\s+$/g,a=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,c=/^0o[0-7]+$/i,u=parseInt;e.exports=function(e){if("number"==typeof e)return e;if(i(e))return NaN;if(r(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=r(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(o,"");var n=s.test(e);return n||c.test(e)?u(e.slice(2),n?2:8):a.test(e)?NaN:+e}},137:function(e,t,n){var r=n(104),i=n(91);e.exports=function(e){var t=r(e),n=new Date(0);return n.setFullYear(t,0,4),n.setHours(0,0,0,0),i(n)}},145:function(e,t,n){"use strict";n.d(t,"a",function(){return p});var r=n(1),i=n(0),o=n(277),a=n(98),s=n(127),c=n(8),u=n(86),l=n(102),m=n(83),p=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r.__extends(t,e),t.prototype.render=function(){var e=void 0!==this.props.length?i.createElement("span",{className:"siteWide-VideoCardItem_Thumbnail_Length"},this.props.length):null,t=void 0!==this.props.viewCounter?i.createElement("div",{className:"siteWide-VideoCardItem_Meta_Count_View"},l(this.props.viewCounter)):null,n=void 0!==this.props.commentCounter?i.createElement("div",{className:"siteWide-VideoCardItem_Meta_Count_Comment"},l(this.props.commentCounter)):null,r=void 0!==this.props.firstRetrieve?this.getVideoItemDate(this.props.firstRetrieve):null;return i.createElement("div",{className:"siteWide-VideoCardItem"},i.createElement("div",{className:"siteWide-VideoCardItem_Thumbnail"},e,i.createElement("img",{className:"siteWide-VideoCardItem_Thumbnail_Image",src:this.props.thumbnailUrl})),i.createElement("div",{className:"siteWide-VideoCardItem_Meta"},i.createElement("div",{className:"siteWide-VideoCardItem_Meta_Title"},this.props.title),t&&n&&i.createElement("div",{className:"siteWide-VideoCardItem_Meta_Count"},t,n),r,void 0!==this.props.onClickMenu?i.createElement("div",{className:"siteWide-VideoCardItem_Meta_Menu"},i.createElement("button",{className:"siteWide-VideoCardItem_Meta_Menu_Button",onClick:this.props.onClickMenu},i.createElement(m.a,null))):null))},t.prototype.getVideoItemDate=function(e){var t=c(e),n=a(Date.now(),t)<864e5;return e=n?o(t):s(t,"YYYY/M/D"),i.createElement("div",{className:u({"siteWide-VideoCardItem_Meta_Date":!0,"is-strong":n})},e," ",i.createElement("span",{className:"suffix"},"投稿"))},t}(i.PureComponent)},148:function(e,t,n){var a=n(120);e.exports=function(e,t){var n=a(e),r=a(t),i=n.getTime()-6e4*n.getTimezoneOffset(),o=r.getTime()-6e4*r.getTimezoneOffset();return Math.round((i-o)/864e5)}},149:function(e,t,n){var a=n(8);e.exports=function(e,t){var n=t&&Number(t.weekStartsOn)||0,r=a(e),i=r.getDay(),o=(i<n?7:0)+i-n;return r.setDate(r.getDate()-o),r.setHours(0,0,0,0),r}},150:function(e,t,n){"use strict";n.d(t,"a",function(){return l});var r=n(97),i=n.n(r),o=n(1),a=n(0),s=n(130),c=n.n(s),u=n(9),l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.carousel=null,e.inertiaEnabled=!(u.b.is_iOS()&&u.b.os_major_version()<9),e.resizeEvent=i()(e.init.bind(e),250),e}return o.__extends(e,t),e.prototype.render=function(){var t=this;return a.createElement("div",{className:"siteWide-Slider "+this.props.className,ref:function(e){return t.slider=e}},this.props.children)},e.prototype.componentDidMount=function(){this.slides=this.slider.getElementsByClassName(e.classNameSlideContainer)[0],this.init(),window.addEventListener("resize",this.resizeEvent)},e.prototype.componentDidUpdate=function(){this.init()},e.prototype.componentWillUnmount=function(){window.removeEventListener("resize",this.resizeEvent)},e.prototype.init=function(){try{this.carousel&&this.carousel.destroy(),this.slides&&.95*window.innerWidth<this.slides.clientWidth&&(this.carousel=new c.a(this.slider,{frameClassName:e.classNameFrame,itemsClassName:e.classNameSlideContainer,scrollDeltaCoefficient:1.2,inertia:this.inertiaEnabled,inertiaAcceleration:.0042}))}catch(e){}},e.classNameFrame="siteWide-Slider_Frame",e.classNameSlideContainer="siteWide-Slider_Frame_Slides",e}(a.PureComponent)},151:function(e,t,n){"use strict";n.d(t,"a",function(){return o});var r=n(1),i=n(0),o=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r.__extends(t,e),t.prototype.render=function(){return i.createElement("div",{className:"siteWide-Slider_Frame"},i.createElement("div",{className:"siteWide-Slider_Frame_Slides"},this.props.children))},t}(i.PureComponent)},154:function(e,t,n){"use strict";var r,i;n.d(t,"a",function(){return r}),(i=r||(r={})).IZANAMI="A",i.LIGHT_RECOMMEND="B"},162:function(e,t,n){var r=n(8),i=n(91),o=n(137);e.exports=function(e){var t=r(e),n=i(t).getTime()-o(t).getTime();return Math.round(n/6048e5)+1}},163:function(e,t,n){var r=n(197),i=n(198);e.exports={distanceInWords:r(),format:i()}},166:function(e,t,n){var r=n(98);e.exports=function(e,t){var n=r(e,t)/6e4;return 0<n?Math.floor(n):Math.ceil(n)}},177:function(e,t,n){var r=n(8),i=n(178),o=n(148);e.exports=function(e){var t=r(e);return o(t,i(t))+1}},178:function(e,t,n){var r=n(8);e.exports=function(e){var t=r(e),n=new Date(0);return n.setFullYear(t.getFullYear(),0,1),n.setHours(0,0,0,0),n}},179:function(e,t,n){var r=n(125);e.exports=function(e){if(r(e))return!isNaN(e);throw new TypeError(toString.call(e)+" is not an instance of Date")}},184:function(e,t){e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=e}),n}},189:function(e,t,n){"use strict";n.d(t,"a",function(){return o});var r=n(190),i=function(){function e(e){this.template_string=e}return e.prototype.assign=function(e){return r.render(this.template_string,this.addCommonFunctionToInput(e))},e.prototype.addCommonFunctionToInput=function(e){return e.encodeURIComponent=function(){return function(e,t){return encodeURIComponent(t(e))}},e},e}();function o(e){return new i(e)}},190:function(e,t){e.exports=Mustache},191:function(e,t,n){"use strict";n.d(t,"a",function(){return a});var r=n(47),i=n(30),o=n(128),a=function(){function e(e){this.context=e,this.recommendAPI=new r.a(this.context),this.recommendLogAPI=new o.a(this.context),this.initialize()}return e.prototype.initialize=function(){var t=this;i.a.on("fetchRecommendVideo",function(e){return t.getRecommendVideo(e)}),i.a.on("sendDisplayLog",function(e){return t.onSendDisplayLog(e)}),i.a.on("sendResponseLog",function(e){return t.onSendResponseLog(e)})},e.prototype.getRecommendVideo=function(t){this.recommendAPI.getRecommend(t).then(function(e){i.a.emit("fetchRecommendVideoSuccess",{params:t,result:e.data})}).catch(function(e){i.a.emit("fetchRecommendVideoError",{params:t})})},e.prototype.onSendDisplayLog=function(e){this.recommendLogAPI.displayLog(e)},e.prototype.onSendResponseLog=function(e){this.recommendLogAPI.responseLog(e)},e}()},197:function(e,t){e.exports=function(){var i={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}};return{localize:function(e,t,n){var r;return n=n||{},r="string"==typeof i[e]?i[e]:1===t?i[e].one:i[e].other.replace("{{count}}",t),n.addSuffix?0<n.comparison?"in "+r:r+" ago":r}}}},198:function(e,t,n){var u=n(199);e.exports=function(){var t=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],n=["January","February","March","April","May","June","July","August","September","October","November","December"],r=["Su","Mo","Tu","We","Th","Fr","Sa"],i=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],o=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],a=["AM","PM"],s=["am","pm"],c=["a.m.","p.m."],e={MMM:function(e){return t[e.getMonth()]},MMMM:function(e){return n[e.getMonth()]},dd:function(e){return r[e.getDay()]},ddd:function(e){return i[e.getDay()]},dddd:function(e){return o[e.getDay()]},A:function(e){return 1<=e.getHours()/12?a[1]:a[0]},a:function(e){return 1<=e.getHours()/12?s[1]:s[0]},aa:function(e){return 1<=e.getHours()/12?c[1]:c[0]}};return["M","D","DDD","d","Q","W"].forEach(function(n){e[n+"o"]=function(e,t){return function(e){var t=e%100;if(20<t||t<10)switch(t%10){case 1:return e+"st";case 2:return e+"nd";case 3:return e+"rd"}return e+"th"}(t[n](e))}}),{formatters:e,formattingTokensRegExp:u(e)}}},199:function(e,t){var i=["M","MM","Q","D","DD","DDD","DDDD","d","E","W","WW","YY","YYYY","GG","GGGG","H","HH","h","hh","m","mm","s","ss","S","SS","SSS","Z","ZZ","X","x"];e.exports=function(e){var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(n);var r=i.concat(t).sort().reverse();return new RegExp("(\\[[^\\[]*\\])|(\\\\)?("+r.join("|")+"|.)","g")}},200:function(e,t,n){var r,i,o;/*! javascript-number-formatter - v1.1.11 - http://mottie.github.com/javascript-number-formatter/ * © ecava */i=[],void 0===(o="function"==typeof(r=function(){return function(e,t){"use strict";if(!e||isNaN(+t))return t;var n,r,i,o,a,s,c,u,l,m,p=e.length,d=e.search(/[0-9\-\+#]/),h=0<d?e.substring(0,d):"",f=e.split("").reverse().join(""),_=f.search(/[0-9\-\+#]/),v=p-_,g=e.substring(v,v+1),y=v+("."===g||","===g?1:0),E=0<_?e.substring(y,p):"";if(e=e.substring(d,y),t="-"===e.charAt(0)?-t:+t,n=t<0?t=-t:0,r=e.match(/[^\d\-\+#]/g),i=r&&r[r.length-1]||".",o=r&&r[1]&&r[0]||",",e=e.split(i),t=+(t=t.toFixed(e[1]&&e[1].length))+"",s=e[1]&&e[1].lastIndexOf("0"),(!(u=t.split("."))[1]||u[1]&&u[1].length<=s)&&(t=(+t).toFixed(s+1)),l=e[0].split(o),e[0]=l.join(""),-1<(a=e[0]&&e[0].indexOf("0")))for(;u[0].length<e[0].length-a;)u[0]="0"+u[0];else 0==+u[0]&&(u[0]="");if((t=t.split("."))[0]=u[0],c=l[1]&&l[l.length-1].length){for(m=t[0],f="",v=m.length%c,p=m.length,y=0;y<p;y++)f+=m.charAt(y),!((y-v+1)%c)&&y<p-c&&(f+=o);t[0]=f}return t[1]=e[1]&&t[1]?i+t[1]:"","0"!==(r=t.join(""))&&""!==r||(n=!1),h+(n?"-":"")+r+E}})?r.apply(t,i):r)||(e.exports=o)},204:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(){}return e.init=function(e){Object.assign(this,e),this.baseURL=e.baseURL.replace(/\/$/,""),this.initialized=!0},e.fetch=function(t){if(!this.initialized)throw new Error("WKTKClient was not initialized.");return fetch(this.createURL(t),{method:"GET",headers:i({"X-Frontend-Id":this.frontendId,"X-Frontend-Version":this.frontendVersion,"Accept-Language":this.language}),mode:"cors",credentials:"include"}).then(function(e){return e.json()}).then(function(e){if(200!==e.meta.status)throw e;return{frames:o(e.data.frames,t.frames),label:e.data.label}})},e.createURL=function(e){var t=e.frames.map(function(e){return"names="+encodeURIComponent(e)+"&"}).join(""),n=(e.tags||[]).map(function(e){return"tags="+encodeURIComponent(e)+"&"}).join(""),r=encodeURIComponent(this.responseType||this.defaultResponseType());return this.baseURL+"/v2/wakutkool/frames.json?"+t+n+"responseType="+r},e.defaultResponseType=function(){var e=window.navigator.userAgent.toLowerCase();return-1!=e.indexOf("iphone")||-1!=e.indexOf("ipad")||-1!=e.indexOf("android")||-1!=e.indexOf("mobile")?"sp":"pc"},e.initialized=!1,e}();function i(e){var t={};for(var n in e)e.hasOwnProperty(n)&&null!==e[n]&&void 0!==e[n]&&(t[n]=e[n]);return t}function o(e,n){return e.sort(function(e,t){return 0<n.indexOf(e.name)-n.indexOf(t.name)?1:-1})}t.WKTKClient=r,t.omit=i,t.sortByNameKey=o},223:function(t,n,r){var i;!function(e){"use strict";var E,I,M,T=(E=/d{1,4}|m{1,4}|yy(?:yy)?|([HhMsTt])\1?|[LloSZWN]|'[^']*'|'[^']*'/g,I=/\b(?:[PMCEA][SDP]T|(?:Pacific|Mountain|Central|Eastern|Atlantic) (?:Standard|Daylight|Prevailing) Time|(?:GMT|UTC)(?:[-+]\d{4})?)\b/g,M=/[^-+\dA-Z]/g,function(e,t,n,r){if(1!==arguments.length||"string"!==(null===(i=e)?"null":void 0===i?"undefined":"object"!=typeof i?typeof i:Array.isArray(i)?"array":{}.toString.call(i).slice(8,-1).toLowerCase())||/\d/.test(e)||(t=e,e=void 0),(e=e||new Date)instanceof Date||(e=new Date(e)),isNaN(e))throw TypeError("Invalid date");var i,o=(t=String(T.masks[t]||t||T.masks.default)).slice(0,4);"UTC:"!==o&&"GMT:"!==o||(t=t.slice(4),n=!0,"GMT:"===o&&(r=!0));var a,s=n?"getUTC":"get",c=e[s+"Date"](),u=e[s+"Day"](),l=e[s+"Month"](),m=e[s+"FullYear"](),p=e[s+"Hours"](),d=e[s+"Minutes"](),h=e[s+"Seconds"](),f=e[s+"Milliseconds"](),_=n?0:e.getTimezoneOffset(),v=function(e){var t=new Date(e.getFullYear(),e.getMonth(),e.getDate());t.setDate(t.getDate()-(t.getDay()+6)%7+3);var n=new Date(t.getFullYear(),0,4);n.setDate(n.getDate()-(n.getDay()+6)%7+3);var r=t.getTimezoneOffset()-n.getTimezoneOffset();t.setHours(t.getHours()-r);var i=(t-n)/6048e5;return 1+Math.floor(i)}(e),g=(0===(a=e.getDay())&&(a=7),a),y={d:c,dd:k(c),ddd:T.i18n.dayNames[u],dddd:T.i18n.dayNames[u+7],m:l+1,mm:k(l+1),mmm:T.i18n.monthNames[l],mmmm:T.i18n.monthNames[l+12],yy:String(m).slice(2),yyyy:m,h:p%12||12,hh:k(p%12||12),H:p,HH:k(p),M:d,MM:k(d),s:h,ss:k(h),l:k(f,3),L:k(Math.round(f/10)),t:p<12?"a":"p",tt:p<12?"am":"pm",T:p<12?"A":"P",TT:p<12?"AM":"PM",Z:r?"GMT":n?"UTC":(String(e).match(I)||[""]).pop().replace(M,""),o:(0<_?"-":"+")+k(100*Math.floor(Math.abs(_)/60)+Math.abs(_)%60,4),S:["th","st","nd","rd"][3<c%10?0:(c%100-c%10!=10)*c%10],W:v,N:g};return t.replace(E,function(e){return e in y?y[e]:e.slice(1,e.length-1)})});function k(e,t){for(e=String(e),t=t||2;e.length<t;)e="0"+e;return e}T.masks={default:"ddd mmm dd yyyy HH:MM:ss",shortDate:"m/d/yy",mediumDate:"mmm d, yyyy",longDate:"mmmm d, yyyy",fullDate:"dddd, mmmm d, yyyy",shortTime:"h:MM TT",mediumTime:"h:MM:ss TT",longTime:"h:MM:ss TT Z",isoDate:"yyyy-mm-dd",isoTime:"HH:MM:ss",isoDateTime:"yyyy-mm-dd'T'HH:MM:sso",isoUtcDateTime:"UTC:yyyy-mm-dd'T'HH:MM:ss'Z'",expiresHeaderFormat:"ddd, dd mmm yyyy HH:MM:ss Z"},T.i18n={dayNames:["Sun","Mon","Tue","Wed","Thu","Fri","Sat","Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],monthNames:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec","January","February","March","April","May","June","July","August","September","October","November","December"]},void 0===(i=function(){return T}.call(n,r,n,t))||(t.exports=i)}()},226:function(e,t,n){var r=n(249),i=n(256),o=n(257);function a(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new r;++t<n;)this.add(e[t])}a.prototype.add=a.prototype.push=i,a.prototype.has=o,e.exports=a},227:function(e,t){e.exports=function(e,t){return e.has(t)}},235:function(e,t,n){"use strict";n.d(t,"a",function(){return a});var r=n(1),i=n(0),o=n(14),a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r.__extends(t,e),t.prototype.render=function(){return null},t.prototype.componentDidMount=function(){var e=this;setTimeout(function(){o.a.push("imp",e.props.label,e.props.labelDetail)},0)},t}(i.PureComponent)},243:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){this.transitionKeys=["transition","webkitTransition"],this.transformKeys=["transform","webkitTransform"];var t=document.createElement("_");this.transition=this.transitionKeys.filter(function(e){return void 0!==t.style[e]})[0],this.transform=this.transformKeys.filter(function(e){return void 0!==t.style[e]})[0]};t.default=r},244:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var t=!1;try{var e=Object.defineProperty({},"passive",{get:function(){t=!0}});window.addEventListener("test",e,e),window.removeEventListener("test",e,e)}catch(e){t=!1}return t}},245:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.defaultOptions={transitionDurationSec:.5,transitionTimingFunction:"ease",frameClassName:"ccc-frame",itemsClassName:"ccc-items",scrollDeltaCoefficient:1,inertia:!0,inertiaAcceleration:.005,inertiaIntervalMS:16}},254:function(e,t,n){var a=n(371),s=n(168);e.exports=function e(t,n,r,i,o){return t===n||(null==t||null==n||!s(t)&&!s(n)?t!=t&&n!=n:a(t,n,r,i,e,o))}},255:function(e,t,n){var _=n(226),v=n(372),g=n(227);e.exports=function(e,t,n,r,i,o){var a=1&n,s=e.length,c=t.length;if(s!=c&&!(a&&s<c))return!1;var u=o.get(e);if(u&&o.get(t))return u==t;var l=-1,m=!0,p=2&n?new _:void 0;for(o.set(e,t),o.set(t,e);++l<s;){var d=e[l],h=t[l];if(r)var f=a?r(h,d,l,t,e,o):r(d,h,l,e,t,o);if(void 0!==f){if(f)continue;m=!1;break}if(p){if(!v(t,function(e,t){if(!g(p,t)&&(d===e||i(d,e,n,r,o)))return p.push(t)})){m=!1;break}}else if(d!==h&&!i(d,h,n,r,o)){m=!1;break}}return o.delete(e),o.delete(t),m}},256:function(e,t){e.exports=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this}},257:function(e,t){e.exports=function(e){return this.__data__.has(e)}},258:function(e,t,n){var r=n(62);e.exports=function(e){return e==e&&!r(e)}},259:function(e,t){e.exports=function(t,n){return function(e){return null!=e&&e[t]===n&&(void 0!==n||t in Object(e))}}},277:function(e,t,n){"use strict";var i=n(223),o={en:{now:"just now",minute:"1 minute ago",minutes:"{0} minutes ago",hour:"1 hour ago",hours:"{0} hours ago",default:"mmm d, yyyy, H:MM"},ja:{now:"たった今",minute:"1分前",minutes:"{0}分前",hour:"1時間前",hours:"{0}時間前",default:"yy年m月d日 H:MM"},"zh-tw":{now:"剛才",minute:"1分鐘前",minutes:"{0}分前",hour:"1小時前",hours:"{0}小時前",default:"yy年m月d日 H:MM"}};e.exports=function(e,t){var n=((new Date).getTime()-e.getTime())/1e3,r=t&&o[t]?o[t]:o.ja;return!(n<0)&&(n<60?r.now:n<120?r.minute:n<3600?r.minutes.replace("{0}",Math.floor(n/60)):n<7200?r.hour:n<86400&&r.hours.replace("{0}",Math.floor(n/3600)))||i(e,r.default)}},30:function(e,t,n){"use strict";n.d(t,"a",function(){return r});var r=new(n(7).c)},314:function(e,t,n){var r=n(369),i=n(377),o=n(367),a=n(121),s=n(381);e.exports=function(e){return"function"==typeof e?e:null==e?o:"object"==typeof e?a(e)?i(e[0],e[1]):r(e):s(e)}},315:function(e,t,n){var r=n(379),i=n(380);e.exports=function(e,t){return null!=e&&i(e,t,r)}},36:function(e,t,n){"use strict";var r=n(150);n.d(t,"a",function(){return r.a});var i=n(151);n.d(t,"b",function(){return i.a})},369:function(e,t,n){var r=n(370),i=n(376),o=n(259);e.exports=function(t){var n=i(t);return 1==n.length&&n[0][2]?o(n[0][0],n[0][1]):function(e){return e===t||r(e,t,n)}}},370:function(e,t,n){var d=n(248),h=n(254);e.exports=function(e,t,n,r){var i=n.length,o=i,a=!r;if(null==e)return!o;for(e=Object(e);i--;){var s=n[i];if(a&&s[2]?s[1]!==e[s[0]]:!(s[0]in e))return!1}for(;++i<o;){var c=(s=n[i])[0],u=e[c],l=s[1];if(a&&s[2]){if(void 0===u&&!(c in e))return!1}else{var m=new d;if(r)var p=r(u,l,c,e,t,m);if(!(void 0===p?h(l,u,3,r,m):p))return!1}}return!0}},371:function(e,t,n){var v=n(248),g=n(255),y=n(373),E=n(375),I=n(252),M=n(121),T=n(310),k=n(355),b="[object Arguments]",w="[object Array]",L="[object Object]",C=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,r,i,o){var a=M(e),s=M(t),c=a?w:I(e),u=s?w:I(t),l=(c=c==b?L:c)==L,m=(u=u==b?L:u)==L,p=c==u;if(p&&T(e)){if(!T(t))return!1;l=!(a=!0)}if(p&&!l)return o||(o=new v),a||k(e)?g(e,t,n,r,i,o):y(e,t,c,n,r,i,o);if(!(1&n)){var d=l&&C.call(e,"__wrapped__"),h=m&&C.call(t,"__wrapped__");if(d||h){var f=d?e.value():e,_=h?t.value():t;return o||(o=new v),i(f,_,n,r,o)}}return!!p&&(o||(o=new v),E(e,t,n,r,i,o))}},372:function(e,t){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}},373:function(e,t,n){var r=n(202),m=n(366),p=n(306),d=n(255),h=n(374),f=n(184),i=r?r.prototype:void 0,_=i?i.valueOf:void 0;e.exports=function(e,t,n,r,i,o,a){switch(n){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!o(new m(e),new m(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return p(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var s=h;case"[object Set]":var c=1&r;if(s||(s=f),e.size!=t.size&&!c)return!1;var u=a.get(e);if(u)return u==t;r|=2,a.set(e,t);var l=d(s(e),s(t),r,i,o,a);return a.delete(e),l;case"[object Symbol]":if(_)return _.call(e)==_.call(t)}return!1}},374:function(e,t){e.exports=function(e){var n=-1,r=Array(e.size);return e.forEach(function(e,t){r[++n]=[t,e]}),r}},375:function(e,t,n){var y=n(362),E=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,r,i,o){var a=1&n,s=y(e),c=s.length;if(c!=y(t).length&&!a)return!1;for(var u=c;u--;){var l=s[u];if(!(a?l in t:E.call(t,l)))return!1}var m=o.get(e);if(m&&o.get(t))return m==t;var p=!0;o.set(e,t),o.set(t,e);for(var d=a;++u<c;){var h=e[l=s[u]],f=t[l];if(r)var _=a?r(f,h,l,t,e,o):r(h,f,l,e,t,o);if(!(void 0===_?h===f||i(h,f,n,r,o):_)){p=!1;break}d||(d="constructor"==l)}if(p&&!d){var v=e.constructor,g=t.constructor;v!=g&&"constructor"in e&&"constructor"in t&&!("function"==typeof v&&v instanceof v&&"function"==typeof g&&g instanceof g)&&(p=!1)}return o.delete(e),o.delete(t),p}},376:function(e,t,n){var o=n(258),a=n(251);e.exports=function(e){for(var t=a(e),n=t.length;n--;){var r=t[n],i=e[r];t[n]=[r,i,o(i)]}return t}},377:function(e,t,n){var i=n(254),o=n(378),a=n(315),s=n(253),c=n(258),u=n(259),l=n(169);e.exports=function(n,r){return s(n)&&c(r)?u(l(n),r):function(e){var t=o(e,n);return void 0===t&&t===r?a(e,n):i(r,t,3)}}},378:function(e,t,n){var i=n(225);e.exports=function(e,t,n){var r=null==e?void 0:i(e,t);return void 0===r?n:r}},379:function(e,t){e.exports=function(e,t){return null!=e&&t in Object(e)}},38:function(e,t,n){"use strict";var r=n(99),i=n.n(r),o=n(1),a=n(0),s=n(25),c=function(n){function e(e){var t=n.call(this,e)||this;return t.lastIsinView=!1,t.checkInView=function(){var e=t.isInView();t.lastIsinView!==e&&(t.props.onlyOnce&&t.stopObserve(),(t.lastIsinView=e)?t.props.onInView():t.props.onOutView())},t.throttledCheckInView=i()(t.checkInView,e.minimumCheckInterval),t}return o.__extends(e,n),e.prototype.render=function(){var t=this;return a.createElement("div",{className:"SiteWide-InView",ref:function(e){return t.element=e}},this.props.children)},e.prototype.componentDidMount=function(){this.startObserve()},e.prototype.componentWillUnmount=function(){this.stopObserve()},e.prototype.startObserve=function(){s.eventObserver.subscribe(window,"scroll",this.throttledCheckInView),s.eventObserver.subscribe(window,"resize",this.throttledCheckInView),this.checkInView()},e.prototype.stopObserve=function(){s.eventObserver.unsubscribe(window,"scroll",this.throttledCheckInView),s.eventObserver.unsubscribe(window,"resize",this.throttledCheckInView)},e.prototype.isInView=function(){var e=this.element.getBoundingClientRect();return e.top<window.innerHeight+this.props.outsideMargin&&e.bottom>-this.props.outsideMargin},e.defaultProps={onInView:function(){},onOutView:function(){},outsideMargin:50,minimumCheckInterval:100,onlyOnce:!0},e}(a.PureComponent);t.a=c},380:function(e,t,n){var s=n(203),c=n(309),u=n(121),l=n(312),m=n(313),p=n(169);e.exports=function(e,t,n){for(var r=-1,i=(t=s(t,e)).length,o=!1;++r<i;){var a=p(t[r]);if(!(o=null!=e&&n(e,a)))break;e=e[a]}return o||++r!=i?o:!!(i=null==e?0:e.length)&&m(i)&&l(a,i)&&(u(e)||c(e))}},381:function(e,t,n){var r=n(382),i=n(383),o=n(253),a=n(169);e.exports=function(e){return o(e)?r(a(e)):i(e)}},382:function(e,t){e.exports=function(t){return function(e){return null==e?void 0:e[t]}}},383:function(e,t,n){var r=n(225);e.exports=function(t){return function(e){return r(e,t)}}},384:function(e,t,n){var d=n(226),h=n(385),f=n(390),_=n(227),v=n(391),g=n(184);e.exports=function(e,t,n){var r=-1,i=h,o=e.length,a=!0,s=[],c=s;if(n)a=!1,i=f;else if(200<=o){var u=t?null:v(e);if(u)return g(u);a=!1,i=_,c=new d}else c=t?[]:s;e:for(;++r<o;){var l=e[r],m=t?t(l):l;if(l=n||0!==l?l:0,a&&m==m){for(var p=c.length;p--;)if(c[p]===m)continue e;t&&c.push(m),s.push(l)}else i(c,m,n)||(c!==s&&c.push(m),s.push(l))}return s}},385:function(e,t,n){var r=n(386);e.exports=function(e,t){return!(null==e||!e.length)&&-1<r(e,t,0)}},386:function(e,t,n){var r=n(387),i=n(388),o=n(389);e.exports=function(e,t,n){return t==t?o(e,t,n):r(e,i,n)}},387:function(e,t){e.exports=function(e,t,n,r){for(var i=e.length,o=n+(r?1:-1);r?o--:++o<i;)if(t(e[o],o,e))return o;return-1}},388:function(e,t){e.exports=function(e){return e!=e}},389:function(e,t){e.exports=function(e,t,n){for(var r=n-1,i=e.length;++r<i;)if(e[r]===t)return r;return-1}},390:function(e,t){e.exports=function(e,t,n){for(var r=-1,i=null==e?0:e.length;++r<i;)if(n(t,e[r]))return!0;return!1}},391:function(e,t,n){var r=n(364),i=n(392),o=n(184),a=r&&1/o(new r([,-0]))[1]==1/0?function(e){return new r(e)}:i;e.exports=a},392:function(e,t){e.exports=function(){}},47:function(e,t,n){"use strict";n.d(t,"b",function(){return r}),n.d(t,"a",function(){return l});var r,i,o=n(1),a=n(3);(i=r||(r={})).SpwebFollowUser="spweb_follow_user",i.SpwebNicorepoRecomendUser="spweb_nicorepo_recommend_user",i.SpwebVideoRecommendationRecommend="spweb_video_recommendation_recommend",i.SpwebTopVideo="spweb_top_video",i.SpwebVideoTopRecommend="spweb_video_top_recommend",i.SpwebVideoWatch="spweb_video_watch",i.SpwebVideoWatchGuest="spweb_video_watch_guest",i.TopLightRecommend="spweb_top_light_recommend",i.VideoTopLightRecommend="spweb_video_top_light_recommend";var s,c,u,l=function(){function e(e){this.context=e}return e.prototype.getRecommend=function(e){var t=o.__assign({},e,{site:this.context.izumo_service_code});return window.fetch(this.context.nvapi_base_url+"v1/recommend?"+a.a.objectToQuery(t),{headers:new Headers({"X-Frontend-Id":this.context.frontend_id.toString()}),credentials:"include"}).then(function(e){return 200!==e.status?Promise.reject(e):e.json()})},e}();c=s||(s={}),(u=c.RecommendType||(c.RecommendType={})).RECENT_ANIME="recent_anime",u.RECOMMEND="recommend",u.PERSONALIZED="personalized",u.SEARCH="search",u.UNKNOWN="unknown"},497:function(e,t,n){"use strict";var i,r;(r=i||(i={})).CLICKED="clicked",r.CLOSED="closed";var o=n(3);n.d(t,"a",function(){return a});var a=function(){function r(e,t){this.context=e,this.locationHref=t}return r.prototype.fetchPersonalFrames=function(){return this.get()},r.prototype.clickLog=function(e){return this.postLog(e,i.CLICKED)},r.prototype.closeLog=function(e){return this.postLog(e,i.CLOSED)},r.prototype.get=function(){var e=new Headers;return e.append("X-Frontend-Id",""+this.context.frontend_id),e.append("Accept-Language",this.context.user_language),window.fetch(this.context.public_api_base_url+"v1/personal-frames.json?"+o.a.objectToQuery({responseType:r.RESPONSE_TYPE}),{credentials:"include",headers:e}).then(function(e){return e.status<200||300<=e.status?Promise.reject():e.json()})},r.prototype.postLog=function(e,t){var n=new Headers;return n.append("X-Frontend-Id",""+this.context.frontend_id),n.append("X-Request-With",this.locationHref),window.fetch(this.context.public_api_base_url+"v1/user/actions/personal-frames/"+e+"/"+t+".json?"+o.a.objectToQuery({responseType:r.RESPONSE_TYPE}),{method:"POST",credentials:"include",headers:n}).then(function(e){return e.status<200||300<=e.status?Promise.reject():Promise.resolve()})},r.RESPONSE_TYPE="sp",r}()},5:function(e,t){e.exports=jQuery},566:function(e,t,n){var r=n(314),i=n(384);e.exports=function(e,t){return e&&e.length?i(e,r(t,2)):[]}},60:function(e,t,n){"use strict";n.d(t,"a",function(){return r});var r=function(){function e(){}return e.isEmptyFrame=function(e){return!e||!e.items||0===e.items.length},e}()},65:function(e,t,n){"use strict";n.d(t,"a",function(){return u});var r=n(75),i=n.n(r),o=n(1),a=n(0),s=n(14),c=n(31),u=function(e){function t(){var r=null!==e&&e.apply(this,arguments)||this;return r.onLinkClick=function(e){var t=r.props.label_detail;if(r.props.add_item_column){var n=r.getTargetItemColumn(e);t+=n?"-"+n:""}s.a.push("click","wktk-"+r.props.event_postfix,""+t),"function"==typeof r.props.onClick&&r.props.onClick(e)},r}return o.__extends(t,e),t.prototype.render=function(){return a.createElement(c.a,o.__assign({},i()(this.props,["onClick","name","itemId","itemName","add_item_column"]),{onClick:this.onLinkClick,"data-wktk_gtm_click_event_tracker_link_root":"true"}),this.props.children)},t.prototype.getTargetItemColumn=function(e){var t=e.nativeEvent.target;return t instanceof Element?this.getTargetItemColumnRecursively(t):null},t.prototype.getTargetItemColumnRecursively=function(e){if(!e)return null;var t=e.getAttribute("data-wktk_item_column");return t||("true"===e.getAttribute("data-wktk_gtm_click_event_tracker_link_root")?"other":this.getTargetItemColumnRecursively(e.parentElement))},t}(a.PureComponent)},66:function(e,t,n){"use strict";var r=n(75),i=n.n(r),o=n(1),a=n(0),s=n(38),c=function(n){function e(e){var t=n.call(this,e)||this;return t.DUMMY_SRC="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mNkYAAAAAYAAjCB0C8AAAAASUVORK5CYII=",t.onInView=function(){t.setState({isInView:!0})},t.state={isInView:!1},t}return o.__extends(e,n),e.prototype.render=function(){return this.state.isInView?a.createElement("img",o.__assign({},this.props)):a.createElement(s.a,{onInView:this.onInView},a.createElement("img",o.__assign({src:this.DUMMY_SRC},i()(this.props,["src","checkHorizontalInView"]))))},e}(a.PureComponent);t.a=c},68:function(e,t,n){"use strict";var r=n(0),i=function(){return r.createElement("span",{className:"siteWide-SVGIcon siteWide-WarningIcon"})},o=n(71);n.d(t,"a",function(){return a});var a=function(e){return r.createElement(o.a,{icon:r.createElement(i,null),message:e.message||(e.target||"コンテンツ情報")+"の取得に失敗しました",dangerouslySetHTMLMessage:e.dangerouslySetHTMLMessage})}},71:function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n(0),i=function(e){return r.createElement("div",{className:"siteWide-EmptyState"},r.createElement("div",{className:"siteWide-EmptyState_Icon"},e.icon),function(e){if("string"==typeof e.message&&e.dangerouslySetHTMLMessage)return r.createElement("div",{className:"siteWide-EmptyState_Message",dangerouslySetInnerHTML:{__html:e.message}});return r.createElement("div",{className:"siteWide-EmptyState_Message"},e.message)}(e))}},78:function(e,t,n){"use strict";n.d(t,"a",function(){return s});var r=n(1),i=n(0),o=n(15),a=n(14),s=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.target=null,e}return r.__extends(e,t),e.prototype.render=function(){var t=this,n=i.Children.only(this.props.children);if("string"==typeof n.ref)throw new TypeError("GTMImpressionの子要素にstring型のrefは指定できません。functionを利用してください。");var e={ref:function(e){"function"==typeof n.ref&&n.ref(e),t.target=e}};return i.cloneElement(n,e)},e.prototype.componentDidMount=function(){if(this.target&&o.findDOMNode(this.target)){if(!this.props.events||0===this.props.events.length)return;this.props.events.forEach(function(e){setTimeout(function(){a.a.push("imp","wktk-"+e.event_postfix,e.label_detail)},0)})}},e}(i.PureComponent)},783:function(e,t,n){n(85),e.exports=n(950)},79:function(e,t,n){"use strict";var r,i;n.d(t,"a",function(){return r}),(i=r||(r={})).watch_portal_link="watch-portal-link",i.special_pickup="spweb-nicotop-specialpickup",i.large_enjoy="spweb-nicotop-enjoyl",i.d_anime="spweb-nicotop-dani",i.enjoy="spweb-nicotop-enjoy",i.n_anime_content="nanime-top-onairtitle",i.n_anime_link="nicotop-anime",i.recommended_video="nicotop-recommended-video",i.daily_recommend_video="spweb-nicotop-daily-video",i.daily_recommend_others="spweb-nicotop-daily-recommend",i.watch_related_contents="watch-related-contents",i.nicotop_channel="nicotop-channel",i.tag_smart_app_banner="spweb-tag-smart-app-banner",i.watch_smart_app_banner="spweb-watch-smart-app-banner"},8:function(e,t,n){var d=n(125),h=36e5,f=6e4,_=/[T ]/,v=/:/,g=/^(\d{2})$/,y=[/^([+-]\d{2})$/,/^([+-]\d{3})$/,/^([+-]\d{4})$/],E=/^(\d{4})/,I=[/^([+-]\d{4})/,/^([+-]\d{5})/,/^([+-]\d{6})/],M=/^-(\d{2})$/,T=/^-?(\d{3})$/,k=/^-?(\d{2})-?(\d{2})$/,b=/^-?W(\d{2})$/,w=/^-?W(\d{2})-?(\d{1})$/,L=/^(\d{2}([.,]\d*)?)$/,C=/^(\d{2}):?(\d{2}([.,]\d*)?)$/,N=/^(\d{2}):?(\d{2}):?(\d{2}([.,]\d*)?)$/,x=/([Z+-].*)$/,S=/^(Z)$/,D=/^([+-])(\d{2})$/,F=/^([+-])(\d{2}):?(\d{2})$/;function A(e,t,n){t=t||0,n=n||0;var r=new Date(0);r.setUTCFullYear(e,0,4);var i=7*t+n+1-(r.getUTCDay()||7);return r.setUTCDate(r.getUTCDate()+i),r}e.exports=function(e,t){if(d(e))return new Date(e.getTime());if("string"!=typeof e)return new Date(e);var n=(t||{}).additionalDigits;n=null==n?2:Number(n);var r=function(e){var t,n={},r=e.split(_);if(t=v.test(r[0])?(n.date=null,r[0]):(n.date=r[0],r[1])){var i=x.exec(t);i?(n.time=t.replace(i[1],""),n.timezone=i[1]):n.time=t}return n}(e),i=function(e,t){var n,r=y[t],i=I[t];if(n=E.exec(e)||i.exec(e)){var o=n[1];return{year:parseInt(o,10),restDateString:e.slice(o.length)}}if(n=g.exec(e)||r.exec(e)){var a=n[1];return{year:100*parseInt(a,10),restDateString:e.slice(a.length)}}return{year:null}}(r.date,n),o=i.year,a=function(e,t){if(null===t)return null;var n,r,i,o;if(0===e.length)return(r=new Date(0)).setUTCFullYear(t),r;if(n=M.exec(e))return r=new Date(0),i=parseInt(n[1],10)-1,r.setUTCFullYear(t,i),r;if(n=T.exec(e)){r=new Date(0);var a=parseInt(n[1],10);return r.setUTCFullYear(t,0,a),r}if(n=k.exec(e)){r=new Date(0),i=parseInt(n[1],10)-1;var s=parseInt(n[2],10);return r.setUTCFullYear(t,i,s),r}if(n=b.exec(e))return o=parseInt(n[1],10)-1,A(t,o);if(n=w.exec(e)){o=parseInt(n[1],10)-1;var c=parseInt(n[2],10)-1;return A(t,o,c)}return null}(i.restDateString,o);if(a){var s,c=a.getTime(),u=0;return r.time&&(u=function(e){var t,n,r;if(t=L.exec(e))return(n=parseFloat(t[1].replace(",",".")))%24*h;if(t=C.exec(e))return n=parseInt(t[1],10),r=parseFloat(t[2].replace(",",".")),n%24*h+r*f;if(t=N.exec(e)){n=parseInt(t[1],10),r=parseInt(t[2],10);var i=parseFloat(t[3].replace(",","."));return n%24*h+r*f+1e3*i}return null}(r.time)),s=r.timezone?(l=r.timezone,(m=S.exec(l))?0:(m=D.exec(l))?(p=60*parseInt(m[2],10),"+"===m[1]?-p:p):(m=F.exec(l))?(p=60*parseInt(m[2],10)+parseInt(m[3],10),"+"===m[1]?-p:p):0):(s=new Date(c+u).getTimezoneOffset(),new Date(c+u+s*f).getTimezoneOffset()),new Date(c+u+s*f)}var l,m,p;return new Date(e)}},81:function(e,t,n){"use strict";var r=n(0);t.a=function(){return r.createElement("span",{className:"siteWide-FixedSVGIcon siteWide-NicoVideoIcon"})}},83:function(e,t,n){"use strict";var r=n(0);t.a=function(){return r.createElement("span",{className:"siteWide-SVGIcon siteWide-MenuIcon"})}},86:function(e,t,n){var r;
/*!
  Copyright (c) 2017 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/classnames
*/
/*!
  Copyright (c) 2017 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/classnames
*/
!function(){"use strict";var a={}.hasOwnProperty;function s(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var r=typeof n;if("string"===r||"number"===r)e.push(n);else if(Array.isArray(n)&&n.length){var i=s.apply(null,n);i&&e.push(i)}else if("object"===r)for(var o in n)a.call(n,o)&&n[o]&&e.push(o)}}return e.join(" ")}e.exports?(s.default=s,e.exports=s):void 0===(r=function(){return s}.apply(t,[]))||(e.exports=r)}()},91:function(e,t,n){var r=n(149);e.exports=function(e){return r(e,{weekStartsOn:1})}},950:function(e,t,n){"use strict";n.r(t);var s=n(5),r=n(44),i=n(497),o=n(29),a=function(){function e(e,n){var r=this;this.view=e,this.personal_frame_api=new i.a({public_api_base_url:n.api_url,frontend_id:n.frontend_id,user_language:n.lang},o.a.location.href),this.personal_frame_api.fetchPersonalFrames().then(function(e){if(0<e.data.length){var t=e.data[0];r.id=t.id,r.view.setPersonalFrame(t,n.aggregate_parameter),r.view.setViewModel(r)}})}return e.prototype.onClickLinkListener=function(e){this.personal_frame_api.clickLog(this.id).catch(function(){}).then(e)},e.prototype.onClickCloseListener=function(){this.personal_frame_api.closeLog(this.id),this.view.removePersonalFrame()},e}(),c=n(3),u=n(189),l=function(){function r(){this.personal_frame=s("#jsPersonalFrame"),this.personal_frame_data=null}return r.prototype.setViewModel=function(e){this.view_model=e,this.addEventListeners()},r.prototype.setPersonalFrame=function(e,t){this.personal_frame_data=e;var n=Object(u.a)(document.getElementById("jsPersonalFrameTemplate").innerHTML);this.personal_frame.html(n.assign({nickname:r.roundNickname(e.nickname),link_url:t?c.a.mergeQuerystring(e.linkUrl,"ref="+t):e.linkUrl,text:e.text})),this.pushGTMEvent("nicovideo_imp_personal",e)},r.prototype.removePersonalFrame=function(){this.personal_frame.remove()},r.prototype.addEventListeners=function(){var t=this;s("#jsPersonalFrameLink").on("click",function(e){e.preventDefault(),t.pushGTMEvent("nicovideo_click_personal",t.personal_frame_data),t.view_model.onClickLinkListener(function(){o.a.location.href=s(e.currentTarget).attr("href")})}),s("#jsPersonalFrameClose").on("click",function(e){e.preventDefault(),t.pushGTMEvent("nicovideo_close_personal",t.personal_frame_data),t.view_model.onClickCloseListener()})},r.roundNickname=function(e){var t=10<e.length?"…":"";return""+e.slice(0,10)+t},r.prototype.pushGTMEvent=function(e,t){NicoGoogleTagManagerDataLayer.push({event:e,event_info:{label_detail:t?""+t.id:null}})},r}(),m=function(){function e(e){this.context=e}return e.prototype.execute=function(){this.context&&this.initializeViewModel()},e.prototype.initializeViewModel=function(){new a(new l,this.context)},e}();var p,d,h=n(46),M=n(1),T=n(0),k=n(15),f=n(11),b=n(70),_=n(2),v=n(9),g=n(112),y=n(79),E=n(78),I=n(65),w=n(38),L=n(75),C=n.n(L),N=n(31),x=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return M.__extends(t,e),t.prototype.render=function(){return T.createElement("section",M.__assign({className:"top-Section_Container "+this.props.className,"aria-busy":this.props.isBusy},C()(this.props,["className","title","icon","headerLink","isBusy"])),this.renderHeader(),T.createElement("div",{className:"top-Section_Body"},this.props.children))},t.prototype.renderHeader=function(){if(!this.props.icon&&!this.props.title)return null;var e=this.props.icon?T.createElement("div",{className:"top-Section_Header_Icon"},this.props.icon):null,t=this.props.title?T.createElement("div",{className:"top-Section_Header_Title"},this.props.title):null;return this.props.headerLink?T.createElement("header",{className:"top-Section_Header"},T.createElement(N.a,{className:"top-Section_Header_Link",href:this.props.headerLink},e,t)):(e||t)&&T.createElement("header",{className:"top-Section_Header"},e,t)},t}(T.PureComponent),S=n(60),D=function(n){function e(e){var t=n.call(this,e)||this;return t.onInView=function(){t.setState({isInView:!0})},t.state={isInView:!1},t}return M.__extends(e,n),e.prototype.render=function(){var t=this;if(this.props.isWktkLoading)return T.createElement("div",{dangerouslySetInnerHTML:{__html:this.props.skeletonHTML}});if(S.a.isEmptyFrame(this.props.specialPickupFrame))return null;var e=this.props.specialPickupFrame.items.slice(0,2),n=e.map(function(e){return{event_postfix:t.props.specialPickupFrame.name+"-"+e.itemId}});return T.createElement(E.a,{events:n},this.state.isInView?T.createElement(x,{className:"top-SpecialPickup_Container",isBusy:!1},this.renderContents(e)):T.createElement(w.a,{onInView:this.onInView},T.createElement("div",{dangerouslySetInnerHTML:{__html:this.props.skeletonHTML}})))},e.prototype.renderContents=function(e){var t=this;return T.createElement("ul",{className:"top-SpecialPickup_Contents"},e.map(function(e){return t.renderItem(e.values,t.props.specialPickupFrame.name,e.itemId)}))},e.prototype.renderItem=function(e,t,n){return T.createElement("li",{className:"top-SpecialPickup_Contents_Item"},T.createElement(I.a,{event_postfix:t,label_detail:n,add_item_column:!0,className:"top-SpecialPickup_Contents_Item_Link",href:c.a.mergeQuerystring(e.url.url,"ref="+_.a.REF_TOP_SPECIAL_PICKUP),target:e.url.isNewWindow?"_blank":void 0},T.createElement("img",{className:"top-SpecialPickup_Contents_Item_Image",src:e.banner.url,alt:e.banner.alt,"data-wktk_item_column":"banner"})))},e}(T.PureComponent);p=D||(D={}),d=function(n){function e(e){var t=n.call(this,e)||this;return t.state=M.__assign({},e),t}return M.__extends(e,n),e.prototype.render=function(){return T.createElement(p,{isWktkLoading:this.state.isWktkLoading,specialPickupFrame:this.state.specialPickupFrame,skeletonHTML:this.state.skeletonHTML})},e}(T.Component),p.Wrapper=d;var F,A,O=D,V=function(n){function e(e){var t=n.call(this,e)||this;return t.onInView=function(){t.setState({isInView:!0})},t.state={isInView:!1},t}return M.__extends(e,n),e.prototype.render=function(){if(this.props.isWktkLoading)return T.createElement("div",{dangerouslySetInnerHTML:{__html:this.props.skeletonHTML}});if(S.a.isEmptyFrame(this.props.largeEnjoyFrame))return null;var e=this.props.largeEnjoyFrame.items[0],t=[{event_postfix:this.props.largeEnjoyFrame.name+"-"+e}];return T.createElement(E.a,{events:t},this.state.isInView?T.createElement(x,{className:"top-LargeEnjoy_Container",isBusy:this.props.isWktkLoading},this.renderContents(e)):T.createElement(w.a,{onInView:this.onInView},T.createElement("div",{dangerouslySetInnerHTML:{__html:this.props.skeletonHTML}})))},e.prototype.renderContents=function(e){return T.createElement(I.a,{event_postfix:this.props.largeEnjoyFrame.name,label_detail:e.itemId,add_item_column:!0,className:"top-LargeEnjoy_Contents_Item_Link",href:c.a.mergeQuerystring(e.values.url.url,"ref="+_.a.REF_TOP_LARGE_ENJOY),target:e.values.url.isNewWindow?"_blank":void 0},T.createElement("img",{className:"top-LargeEnjoy_Contents_Item_Image",src:e.values.banner.url,alt:e.values.banner.alt,"data-wktk_item_column":"banner"}))},e}(T.PureComponent);F=V||(V={}),A=function(n){function e(e){var t=n.call(this,e)||this;return t.state=M.__assign({},e),t}return M.__extends(e,n),e.prototype.render=function(){return T.createElement(F,{isWktkLoading:this.state.isWktkLoading,largeEnjoyFrame:this.state.largeEnjoyFrame,skeletonHTML:this.state.skeletonHTML})},e}(T.Component),F.Wrapper=A;var H,R,W=V,P=n(566),j=n.n(P),U=n(166),X=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return M.__extends(t,e),t.prototype.render=function(){var e=this.formatElapsedTime(this.props.startTimeMS,this.props.endTimeMS);return T.createElement("div",{className:"siteWide-LiveCardItem"},T.createElement(N.a,{href:this.props.linkUrl,onClick:this.props.onClick?this.props.onClick:void 0},T.createElement("div",{className:"siteWide-LiveCardItem_Thumbnail"},T.createElement("img",{className:"siteWide-LiveCardItem_Thumbnail_Image",src:this.props.thumbnailUrl}),T.createElement("span",{className:"siteWide-LiveCardItem_Thumbnail_LiveLabel"},"LIVE")),T.createElement("div",{className:"siteWide-LiveCardItem_Meta"},e&&T.createElement("div",{className:"siteWide-LiveCardItem_Meta_ElapsedTime"},e),T.createElement("div",{className:"siteWide-LiveCardItem_Meta_Title"},this.props.title))))},t.prototype.formatElapsedTime=function(e,t){var n=Date.now();if(n<e||t<n)return null;var r=U(n,e),i=Math.floor(r/60);return(0<i?i+"時間":"")+r%60+"分 経過"},t}(T.PureComponent),G=(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}M.__extends(t,e),t.prototype.render=function(){return T.createElement("div",{className:"siteWide-LiveCardItem"},T.createElement("div",null,T.createElement("div",{className:"siteWide-LiveCardItem_Thumbnail"},T.createElement("span",{className:"siteWide-LiveCardItem_Thumbnail_Image"}),T.createElement("span",{className:"siteWide-LiveCardItem_Thumbnail_LiveLabel"},"LIVE")),T.createElement("div",{className:"siteWide-LiveCardItem_Meta"},T.createElement("div",{className:"siteWide-LiveCardItem_Meta_StartDate"}),T.createElement("div",{className:"siteWide-LiveCardItem_Meta_Title"}))))}}(T.PureComponent),n(36)),Y=function(){return T.createElement("span",{className:"siteWide-FixedSVGIcon siteWide-NicoLiveIcon"})},z=n(68),B=function(n){function e(e){var t=n.call(this,e)||this;return t.LIVE_NUM_MAX=8,t.onInView=function(){t.setState({isInView:!0})},t.state={isInView:!1},t}return M.__extends(e,n),e.prototype.render=function(){return this.state.isInView?T.createElement(x,{className:"top-Live_Container",title:"ニコニコ生放送",icon:T.createElement(Y,null),headerLink:this.props.context.sp_live_url+"?ref="+_.a.REF_TOP_LIVE,isBusy:!1},this.renderContents()):T.createElement(w.a,{onInView:this.onInView},T.createElement("div",{dangerouslySetInnerHTML:{__html:this.props.skeletonHTML}}))},e.prototype.renderContents=function(){var t=this;return this.props.context.pickup_live_list&&0!==this.props.context.pickup_live_list.length?T.createElement(G.a,{className:"top-Section_Live_Slider"},T.createElement(G.b,null,j()(this.props.context.pickup_live_list,function(e){return e.id}).slice(0,this.LIVE_NUM_MAX).map(function(e){return T.createElement(X,{key:e.id,title:e.title,startTimeMS:1e3*e.start_time,endTimeMS:1e3*e.end_time,thumbnailUrl:e.thumbnail_url,linkUrl:t.props.context.sp_live_url+"watch/"+e.id+"?ref="+_.a.REF_TOP_LIVE})}))):T.createElement(z.a,null)},e}(T.PureComponent);H=B||(B={}),R=function(n){function e(e){var t=n.call(this,e)||this;return t.state=M.__assign({},e),t}return M.__extends(e,n),e.prototype.render=function(){return T.createElement(H,{context:this.state.context,skeletonHTML:this.state.skeletonHTML})},e}(T.Component),H.Wrapper=R;var K,Z,Q=B,$=n(145),J=n(81),q=n(30),ee=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.VIDEOS_NUM_MAX=8,e}return M.__extends(e,t),e.prototype.render=function(){var r=this,e=this.props.recommend.videos.slice(0,this.VIDEOS_NUM_MAX);return T.createElement(x,{className:"top-Nicovideo_Container",title:"ニコニコ動画",icon:T.createElement(J.a,null),headerLink:this.props.context.spweb_url+"video_top?ref="+_.a.REF_TOP_NICOVIDEO_HEADER_LINK,isBusy:this.props.recommend.isFetching},T.createElement(G.a,{className:"top-Section_Nicovideo_Slider"},T.createElement(G.b,null,e.map(function(e,t){var n=e.content;return T.createElement(N.a,{key:n.id,href:r.props.context.spweb_url+"watch/"+n.id+"?ref="+r.props.linkRef+"&rec_pos="+t,onClick:function(){return r.onRecommendLinkClick(e.id)}},T.createElement($.a,{title:n.title,thumbnailUrl:n.thumbnail.url}))}))))},e.prototype.componentDidMount=function(){this.sendDisplayLog()},e.prototype.sendDisplayLog=function(){var e=this.props.recommend.videos.slice(0,this.VIDEOS_NUM_MAX).map(function(e,t){return{pos_id:t.toString(),contents_id:e.id}});q.a.emit("sendDisplayLog",{display_contents:e,display_uri:location.pathname,recommend_frame:"index",recommend_id:this.props.recommend.recommendId})},e.prototype.onRecommendLinkClick=function(e){q.a.emit("sendResponseLog",{recommend_contents_id:e,recommend_id:this.props.recommend.recommendId})},e}(T.PureComponent);(Z=K||(K={}))[Z.EMPTY=0]="EMPTY",Z[Z.LOADING=1]="LOADING",Z[Z.INVIEW=2]="INVIEW",Z[Z.HOLMES=3]="HOLMES",Z[Z.IZANAMI=4]="IZANAMI";var te,ne,re=function(n){function r(e){var t=n.call(this,e)||this;return t.VIDEOS_NUM_MAX=8,t.onInView=function(){t.setState({isInView:!0})},t.state={isInView:!1,showingContents:K.LOADING},t}return M.__extends(r,n),r.prototype.render=function(){var n=this;if(this.state.showingContents===K.EMPTY)return this.section(T.createElement(z.a,null));if(this.state.showingContents===K.LOADING)return T.createElement("div",{dangerouslySetInnerHTML:{__html:this.props.skeletonHTML}});if(this.state.showingContents===K.INVIEW)return T.createElement(w.a,{onInView:this.onInView},T.createElement("div",{dangerouslySetInnerHTML:{__html:this.props.skeletonHTML}}));if(this.state.showingContents===K.HOLMES)return T.createElement(ee,{recommend:this.props.recommend,context:this.props.context,linkRef:_.a.REF_TOP_NICOVIDEO_SHERLOCK});if(this.state.showingContents===K.IZANAMI){var e=this.props.recommendedVideoFrame.items.slice(0,this.VIDEOS_NUM_MAX),t=e.map(function(e){return{event_postfix:n.props.recommendedVideoFrame.name+"-"+e.itemId}});return T.createElement(E.a,{events:t},this.section(T.createElement(G.a,{className:"top-Section_Nicovideo_Slider"},T.createElement(G.b,null,e.map(function(e,t){return T.createElement(I.a,{key:e.itemId,event_postfix:n.props.recommendedVideoFrame.name,label_detail:e.itemId,add_item_column:!0,href:n.props.context.spweb_url+"watch/"+e.values.video.video.id+"?ref="+_.a.REF_TOP_NICOVIDEO_LIGHT+"&rec_pos="+t,"data-wktk_item_column":"video"},T.createElement($.a,{title:e.values.video.video.title,thumbnailUrl:e.values.video.video.thumbnailUrl}))})))))}this.state.showingContents},r.getDerivedStateFromProps=function(e,t){return{showingContents:r.calcShowingContents(e,t)}},r.calcShowingContents=function(e,t){return e.recommend.isFetching||e.isWktkLoading?K.LOADING:0===e.recommend.videos.length&&S.a.isEmptyFrame(e.recommendedVideoFrame)?K.EMPTY:t.isInView?0<e.recommend.videos.length?K.HOLMES:S.a.isEmptyFrame(e.recommendedVideoFrame)?K.EMPTY:K.IZANAMI:K.INVIEW},r.prototype.section=function(e){var t=this.props.recommend.isFetching||this.props.isWktkLoading;return T.createElement(x,{className:"top-Nicovideo_Container",title:"ニコニコ動画",icon:T.createElement(J.a,null),headerLink:this.props.context.spweb_url+"video_top?ref="+_.a.REF_TOP_NICOVIDEO_HEADER_LINK,isBusy:t||!this.state.isInView},e)},r}(T.PureComponent);(ne=te||(te={}))[ne.EMPTY=0]="EMPTY",ne[ne.LOADING=1]="LOADING",ne[ne.INVIEW=2]="INVIEW",ne[ne.HOLMES=3]="HOLMES",ne[ne.IZUMO_LIGHT=4]="IZUMO_LIGHT";var ie,oe,ae=function(n){function r(e){var t=n.call(this,e)||this;return t.onInView=function(){t.setState({isInView:!0})},t.state={isInView:!1,showingContents:te.LOADING},t}return M.__extends(r,n),r.prototype.render=function(){if(this.state.showingContents===te.EMPTY)return this.section(T.createElement(z.a,null));if(this.state.showingContents===te.LOADING)return T.createElement("div",{dangerouslySetInnerHTML:{__html:this.props.skeletonHTML}});if(this.state.showingContents===te.INVIEW)return T.createElement(w.a,{onInView:this.onInView},T.createElement("div",{dangerouslySetInnerHTML:{__html:this.props.skeletonHTML}}));if(this.state.showingContents===te.HOLMES)return T.createElement(ee,{recommend:this.props.recommend,context:this.props.context,linkRef:_.a.REF_TOP_NICOVIDEO_SHERLOCK});if(this.state.showingContents===te.IZUMO_LIGHT)return T.createElement(ee,{recommend:this.props.recommendLight,context:this.props.context,linkRef:_.a.REF_TOP_VIDEO_LIGHT_NEW});this.state.showingContents},r.getDerivedStateFromProps=function(e,t){return{showingContents:r.calcShowingContents(e,t)}},r.calcShowingContents=function(e,t){return e.recommend.isFetching||e.recommendLight.isFetching?te.LOADING:0===e.recommend.videos.length&&0===e.recommendLight.videos.length?te.EMPTY:t.isInView?0<e.recommend.videos.length?te.HOLMES:0<e.recommendLight.videos.length?te.IZUMO_LIGHT:te.EMPTY:te.INVIEW},r.prototype.section=function(e){var t=this.props.recommend.isFetching||this.props.recommendLight.isFetching;return T.createElement(x,{className:"top-Nicovideo_Container",title:"ニコニコ動画",icon:T.createElement(J.a,null),headerLink:this.props.context.spweb_url+"video_top?ref="+_.a.REF_TOP_NICOVIDEO_HEADER_LINK,isBusy:t||!this.state.isInView},e)},r}(T.PureComponent),se=n(154),ce=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return M.__extends(t,e),t.prototype.render=function(){return this.props.context.abtest_status===se.a.LIGHT_RECOMMEND?T.createElement(ae,{recommend:this.props.recommend,recommendLight:this.props.recommendLight,context:this.props.context,skeletonHTML:this.props.skeletonHTML}):T.createElement(re,{recommend:this.props.recommend,isWktkLoading:this.props.isWktkLoading,recommendedVideoFrame:this.props.recommendedVideoFrame,context:this.props.context,skeletonHTML:this.props.skeletonHTML})},t}(T.PureComponent);ie=ce||(ce={}),oe=function(n){function e(e){var t=n.call(this,e)||this;return t.state=M.__assign({},e),t}return M.__extends(e,n),e.prototype.render=function(){return T.createElement(ie,{recommend:this.state.recommend,recommendLight:this.state.recommendLight,isWktkLoading:this.state.isWktkLoading,recommendedVideoFrame:this.state.recommendedVideoFrame,context:this.state.context,skeletonHTML:this.state.skeletonHTML})},e}(T.Component),ie.Wrapper=oe;var ue,le,me=ce,pe=n(66),de=function(){return T.createElement("span",{className:"siteWide-FixedSVGIcon siteWide-DanimeIcon"})},he=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return M.__extends(t,e),t.prototype.render=function(){return this.props.isWktkLoading?T.createElement("div",{dangerouslySetInnerHTML:{__html:this.props.skeletonHTML}}):S.a.isEmptyFrame(this.props.dAnimeFrame)?null:T.createElement(x,{className:"top-Section_DAnime_Container",icon:T.createElement(de,null),headerLink:"http://site.nicovideo.jp/danime/?ref="+_.a.REF_TOP_D_ANIME,isBusy:!1},T.createElement("ul",{className:"top-MatomeContents_Container"},this.renderItem(this.props.dAnimeFrame.items[0].values,this.props.dAnimeFrame.name,this.props.dAnimeFrame.items[0].itemId)))},t.prototype.renderItem=function(e,t,n){return T.createElement(E.a,{events:[{event_postfix:t+"-"+n}]},T.createElement("li",{className:"top-DAnime_Contents_Item"},T.createElement(I.a,{event_postfix:t,label_detail:n,add_item_column:!0,className:"top-DAnime_Contents_Item_Link",href:c.a.mergeQuerystring(e.url.url,"ref="+_.a.REF_TOP_D_ANIME),target:e.url.isNewWindow?"_blank":void 0},T.createElement(pe.a,{className:"top-DAnime_Contents_Item_Image",src:e.banner.url,alt:e.banner.alt,"data-wktk_item_column":"banner"}))))},t}(T.PureComponent);ue=he||(he={}),le=function(n){function e(e){var t=n.call(this,e)||this;return t.state=M.__assign({},e),t}return M.__extends(e,n),e.prototype.render=function(){return T.createElement(ue,{isWktkLoading:this.state.isWktkLoading,dAnimeFrame:this.state.dAnimeFrame,skeletonHTML:this.state.skeletonHTML})},e}(T.Component),ue.Wrapper=le;var fe,_e,ve=he,ge=function(n){function e(e){var t=n.call(this,e)||this;return t.ITEMS_NUM_MAX_INITIAL=4,t.ITEMS_NUM_MAX_EXPANDED=16,t.onExpandButtonClick=function(e){t.setState({isExpanded:!t.state.isExpanded})},t.state={isExpanded:!1},t}return M.__extends(e,n),e.prototype.render=function(){return this.props.isWktkLoading?T.createElement("div",{dangerouslySetInnerHTML:{__html:this.props.skeletonHTML}}):S.a.isEmptyFrame(this.props.enjoyFrame)?null:T.createElement(x,{className:"top-Enjoy_Container",isBusy:!1,"aria-expanded":this.state.isExpanded},this.renderItems(),this.props.enjoyFrame.items.length>this.ITEMS_NUM_MAX_INITIAL&&T.createElement("button",{className:"top-Enjoy_ExpandButton",onClick:this.onExpandButtonClick}))},e.prototype.renderItems=function(){for(var t=this,e=this.state.isExpanded?this.ITEMS_NUM_MAX_EXPANDED:this.ITEMS_NUM_MAX_INITIAL,n=this.props.enjoyFrame.items.slice(0,e),r=[],i=0;i<n.length;i+=2)r.push(T.createElement("div",{className:"top-Enjoy_ItemRow",key:n[i].itemId},n[i]&&this.renderItem(n[i].values,this.props.enjoyFrame.name,n[i].itemId),n[i+1]&&this.renderItem(n[i+1].values,this.props.enjoyFrame.name,n[i+1].itemId)));var o=this.props.enjoyFrame.items.map(function(e){return{event_postfix:t.props.enjoyFrame.name+"-"+e.itemId}});return T.createElement(E.a,{events:o},T.createElement("div",{className:"top-Section_Enjoy_Items"},r))},e.prototype.renderItem=function(e,t,n){return T.createElement("div",{className:"top-Enjoy_ItemRow_Item"},T.createElement(I.a,{event_postfix:t,label_detail:n,add_item_column:!0,className:"top-Enjoy_ItemRow_Item_Link",href:c.a.mergeQuerystring(e.url.url,"ref="+_.a.REF_TOP_ENJOY),target:e.url.isNewWindow?"_blank":void 0},T.createElement(pe.a,{className:"top-Enjoy_ItemRow_Item_Image",src:e.banner.url,alt:e.banner.alt,"data-wktk_item_column":"banner"})))},e}(T.PureComponent);fe=ge||(ge={}),_e=function(n){function e(e){var t=n.call(this,e)||this;return t.state=M.__assign({},e),t}return M.__extends(e,n),e.prototype.render=function(){return T.createElement(fe,{isWktkLoading:this.state.isWktkLoading,enjoyFrame:this.state.enjoyFrame,skeletonHTML:this.state.skeletonHTML})},e}(T.Component),fe.Wrapper=_e;var ye,Ee,Ie=ge,Me=function(){return T.createElement("span",{className:"siteWide-FixedSVGIcon siteWide-NanimeIcon"})},Te=function(n){function e(e){var t=n.call(this,e)||this;return t.CONTENTS_NUM_MAX=10,t.onInView=function(){t.setState({isInView:!0})},t.state={isInView:!1},t}return M.__extends(e,n),e.prototype.render=function(){var t=this;if(this.props.isWktkLoading)return T.createElement("div",{dangerouslySetInnerHTML:{__html:this.props.skeletonHTML}});var e=S.a.isEmptyFrame(this.props.nAnimeContentFrame)?[]:this.props.nAnimeContentFrame.items.slice(0,this.CONTENTS_NUM_MAX),n=S.a.isEmptyFrame(this.props.nAnimeLinkFrame)?null:this.props.nAnimeLinkFrame.items[0],r=e.map(function(e){return{event_postfix:t.props.nAnimeContentFrame.name+"-"+e.itemId}}),i=n?[{event_postfix:this.props.nAnimeLinkFrame.name+"-"+n.itemId}]:[];return T.createElement(E.a,{events:r},T.createElement(E.a,{events:i},this.state.isInView?T.createElement(x,{className:"top-Section_NAnime_Container",icon:T.createElement(Me,null),headerLink:"http://anime.nicovideo.jp/?ref="+_.a.REF_TOP_N_ANIME,isBusy:!1},this.renderContents(e),this.renderLinks(n)):T.createElement(w.a,{onInView:this.onInView},T.createElement("div",{dangerouslySetInnerHTML:{__html:this.props.skeletonHTML}}))))},e.prototype.renderContents=function(e){var t=this;return 0===e.length?T.createElement(z.a,null):T.createElement(G.a,{className:"top-Section_NAnime_Slider"},T.createElement(G.b,null,e.map(function(e){return t.renderContentItem(e.values,t.props.nAnimeContentFrame.name,e.itemId)})))},e.prototype.renderContentItem=function(e,t,n){return T.createElement("div",{className:"top-NAnime_Content",key:n},T.createElement(I.a,{event_postfix:t,label_detail:n,add_item_column:!0,className:"top-NAnime_Content_Link",href:c.a.mergeQuerystring(e.link.url,"ref="+_.a.REF_TOP_N_ANIME),target:e.link.isNewWindow?"_blank":void 0},T.createElement("img",{className:"top-NAnime_Content_Image",src:e.image.url,alt:e.image.alt,"data-wktk_item_column":"image"})))},e.prototype.renderLinks=function(e){return e?T.createElement("div",{className:"top-Section_NAnime_Links"},T.createElement(I.a,{event_postfix:this.props.nAnimeLinkFrame.name,label_detail:e.itemId,add_item_column:!0,className:"top-NAnime_Link",href:c.a.mergeQuerystring(e.values.url1.url,"ref="+_.a.REF_TOP_N_ANIME),target:e.values.url1.isNewWindow?"_blank":void 0,"data-wktk_item_column":"url1"},e.values.link1.context),T.createElement(I.a,{event_postfix:this.props.nAnimeLinkFrame.name,label_detail:e.itemId,add_item_column:!0,className:"top-NAnime_Link",href:c.a.mergeQuerystring(e.values.url2.url,"ref="+_.a.REF_TOP_N_ANIME),target:e.values.url2.isNewWindow?"_blank":void 0,"data-wktk_item_column":"url2"},e.values.link2.context)):null},e}(T.PureComponent);ye=Te||(Te={}),Ee=function(n){function e(e){var t=n.call(this,e)||this;return t.state=M.__assign({},e),t}return M.__extends(e,n),e.prototype.render=function(){return T.createElement(ye,{isWktkLoading:this.state.isWktkLoading,nAnimeContentFrame:this.state.nAnimeContentFrame,nAnimeLinkFrame:this.state.nAnimeLinkFrame,skeletonHTML:this.state.skeletonHTML})},e}(T.Component),ye.Wrapper=Ee;var ke,be,we=Te,Le=n(150),Ce=n(151),Ne=n(35),xe=function(n){function e(e){var t=n.call(this,e)||this;return t.VELOCITY_PX_PER_SEC=100,t.NEXT_POS_ADDITION_MIN_BASE=12,t.NEXT_POS_ADDITION_MIN=1,t.NEXT_POS_ADDITION_OFFSET_MAX=3,t.NEXT_POS_ADDITION_MAX=12,t.HALF_WIDTH_MATCHER=/[ -~｡-ﾟ]/g,t.isInitialized=!1,t.state={rows:[],containerLeft:null,containerTransition:null},t}return M.__extends(e,n),e.prototype.render=function(){var e,t=this;return T.createElement("div",{className:"siteWide-DummyCommentPlayer",style:{position:"relative",overflow:"hidden"}},T.createElement("div",{className:"siteWide-DummyCommentPlayer_CommentContainer",ref:function(e){return t.containerRef=e},style:(e={position:"absolute",width:0<this.state.rows.length?"auto":"100%",whiteSpace:"nowrap",left:this.state.containerLeft},e[this.transitionStyleKey()]=this.state.containerTransition,e)},this.state.rows.map(function(e,t){return 0===e.comments.length?null:T.createElement("div",{key:t,className:"siteWide-DummyCommentPlayer_CommentContainer_Row"},e.comments.map(function(e){return T.createElement("span",{key:e.id,className:"siteWide-DummyCommentPlayer_CommentContainer_Row_Comment",style:{marginLeft:e.marginLeftEM+"em"}},e.body)}))})))},e.prototype.componentDidMount=function(){var i=this;if(this.containerRef){for(var o=[],e=0;e<this.props.maxRow;++e)o.push({comments:[],maxCommentPosEM:0});var a=Math.max(this.NEXT_POS_ADDITION_MIN_BASE/this.props.comments.length,this.NEXT_POS_ADDITION_MIN),s=0;this.props.comments.forEach(function(e,t){for(var n=i.calculateLooseEM(e.body),r=i.getFreeRowAt(s,o);!r;)s+=i.getRandomArbitrary(2,5),r=i.getFreeRowAt(s,o);r.comments.push({id:t,body:e.body,marginLeftEM:s-r.maxCommentPosEM}),r.maxCommentPosEM=s+n,s+=i.getRandomArbitrary(Math.max(n/2,a),Math.min(n+i.NEXT_POS_ADDITION_OFFSET_MAX,i.NEXT_POS_ADDITION_MAX))}),this.setState({rows:o,containerLeft:this.containerRef.clientWidth})}},e.prototype.componentDidUpdate=function(){if(this.containerRef&&!this.isInitialized){this.isInitialized=!0;var e=(this.containerRef.clientWidth+this.containerRef.parentElement.clientWidth)/this.VELOCITY_PX_PER_SEC;this.setState({containerLeft:-this.containerRef.clientWidth,containerTransition:"left "+e+"s linear"})}},e.prototype.transitionStyleKey=function(){var t=document.createElement("_");return["transition","webkitTransition"].filter(function(e){return void 0!==t.style[e]})[0]},e.prototype.calculateLooseEM=function(e){var t=e.match(this.HALF_WIDTH_MATCHER),n=t?t.length:0;return e.length-n+.5*n},e.prototype.getFreeRowAt=function(t,e){return e.find(function(e){return e.maxCommentPosEM<=t})},e.prototype.getRandomArbitrary=function(e,t){return Math.random()*(t-e)+e},e}(T.PureComponent),Se=function(n){function e(e){var t=n.call(this,e)||this;return t.SUB_ITEMS_MAX=6,t.onInView=function(){t.setState({isInView:!0})},t.state={isInView:!1,mainItem:null,subItems:null},t}return M.__extends(e,n),e.prototype.componentWillReceiveProps=function(e){var t=this;if(this.props.isWktkLoading&&!e.isWktkLoading&&e.dailyRecommendVideoFrame&&e.dailyRecommendOthersFrame)if(S.a.isEmptyFrame(e.dailyRecommendVideoFrame)){if(!S.a.isEmptyFrame(e.dailyRecommendOthersFrame)){var n=Ne.b.shuffleArray(e.dailyRecommendOthersFrame.items);r=n.pop(),i=n.slice(0,this.SUB_ITEMS_MAX);this.setState({mainItem:{id:r.itemId,frameName:r.name,label:r.values.contenttype.context,message:r.values.message.context,thumbnailUrl:r.values.thumbnail.url,thumbnailAlt:r.values.thumbnail.alt,linkUrl:this.createLinkUrl(r.values.url.url,r.values.parameters)},subItems:i.map(function(e){return{id:e.itemId,frameName:e.name,label:e.values.contenttype.context,message:e.values.message.context,thumbnailUrl:e.values.thumbnail.url,thumbnailAlt:e.values.thumbnail.alt,linkUrl:t.createLinkUrl(e.values.url.url,e.values.parameters)}})})}}else{var r=e.dailyRecommendVideoFrame.items[Math.floor(Math.random()*e.dailyRecommendVideoFrame.items.length)],i=e.dailyRecommendOthersFrame?e.dailyRecommendOthersFrame.items.slice(0,this.SUB_ITEMS_MAX):[],o=this.props.context.spweb_url+"watch/"+r.values.video.video.id;this.setState({mainItem:{id:r.itemId,frameName:r.name,label:"動画",message:r.values.message.context,thumbnailUrl:r.values.thumbnail.url,thumbnailAlt:r.values.thumbnail.alt,linkUrl:this.createLinkUrl(o,r.values.parameters),lastResBody:r.values.video.video.lastResBody},subItems:i.map(function(e){return{id:e.itemId,frameName:e.name,label:e.values.contenttype.context,message:e.values.message.context,thumbnailUrl:e.values.thumbnail.url,thumbnailAlt:e.values.thumbnail.alt,linkUrl:t.createLinkUrl(e.values.url.url,e.values.parameters)}})})}},e.prototype.render=function(){return this.props.isWktkLoading?T.createElement("div",{dangerouslySetInnerHTML:{__html:this.props.skeletonHTML}}):this.state.mainItem||this.state.subItems?this.wrapWithWktkGTMImpressionEventTracker(this.state.isInView?T.createElement(x,{className:"top-DailyRecommend_Container",isBusy:!1},this.renderContent()):T.createElement(w.a,{onInView:this.onInView},T.createElement("div",{dangerouslySetInnerHTML:{__html:this.props.skeletonHTML}}))):null},e.prototype.renderContent=function(){return T.createElement("div",{className:"top-DailyRecommend_Content"},this.state.mainItem&&this.renderMainRecommend(this.state.mainItem),this.state.subItems&&this.renderSubRecommend(this.state.subItems))},e.prototype.wrapWithWktkGTMImpressionEventTracker=function(e){var r=[this.state.mainItem].concat(this.state.subItems).filter(function(e){return!!e});return r.reduce(function(e,t){return-1===e.indexOf(t.frameName)?e.concat([t.frameName]):e},[]).reduce(function(e,t){var n=r.filter(function(e){return e.frameName===t}).map(function(e){return{event_postfix:t+"-"+e.id}});return n&&0<n.length?T.createElement(E.a,{events:n},e):e},e)},e.prototype.renderMainRecommend=function(e){var t=e.lastResBody?e.lastResBody.split(" ").slice(0,-1):null;return T.createElement("div",{className:"top-DailyRecommend_Main","data-content_label":e.label},T.createElement(I.a,{href:c.a.mergeQuerystring(e.linkUrl,"ref="+_.a.REF_TOP_DAILY_RECOMMEND_MAIN),event_postfix:e.frameName,label_detail:e.id,add_item_column:!0},T.createElement("div",{className:"top-DailyRecommend_Main_ThumbnailBackground"},T.createElement("div",{className:"top-DailyRecommend_Main_ThumbnailBackground_Image",style:{backgroundImage:"url("+e.thumbnailUrl+")"}}),T.createElement("div",{className:"top-DailyRecommend_Main_Thumbnail","data-wktk_item_column":"image"},T.createElement("span",{className:"top-DailyRecommend_Main_Thumbnail_Label"},e.label),T.createElement(pe.a,{className:"top-DailyRecommend_Main_Thumbnail_Image",src:e.thumbnailUrl,alt:e.thumbnailAlt})),t&&T.createElement("div",{className:"top-DailyRecommend_Main_Comments","data-wktk_item_column":"image"},T.createElement(xe,{comments:t.map(function(e){return{body:e}}),maxRow:3}))),T.createElement("div",{className:"top-DailyRecommend_Main_Caption"},this.renderCaptionDate(),T.createElement("div",{className:"top-DailyRecommend_Main_Caption_Message","data-wktk_item_column":"message"},e.message))))},e.prototype.renderSubRecommend=function(e){return T.createElement("div",{className:"top-DailyRecommend_Sub"},T.createElement(Le.a,{className:"top-DailyRecommend_Sub_Slider"},T.createElement(Ce.a,null,e.map(function(e){return T.createElement("div",{key:e.id,className:"top-DailyRecommend_Sub_Item","data-content_label":e.label},T.createElement(I.a,{href:c.a.mergeQuerystring(e.linkUrl,"ref="+_.a.REF_TOP_DAILY_RECOMMEND_SUB),event_postfix:e.frameName,label_detail:e.id,add_item_column:!0},T.createElement("div",{className:"top-DailyRecommend_Sub_Item_Thumbnail","data-wktk_item_column":"image"},T.createElement("img",{className:"top-DailyRecommend_Sub_Item_Thumbnail_Image",src:e.thumbnailUrl,alt:e.thumbnailAlt}),T.createElement("span",{className:"top-DailyRecommend_Sub_Item_Thumbnail_Label"},e.label)),T.createElement("div",{className:"top-DailyRecommend_Sub_Item_Message","data-wktk_item_column":"message"},e.message)))}))))},e.prototype.renderCaptionDate=function(){var e=new Date;return T.createElement("div",{className:"top-DailyRecommend_Main_Caption_Date"},T.createElement("span",{className:"top-DailyRecommend_Main_Caption_Year"},e.getFullYear()),T.createElement("span",{className:"top-DailyRecommend_Main_Caption_MonthDay"},e.getMonth()+1+"."+e.getDate()),T.createElement("span",{className:"top-DailyRecommend_Main_Caption_Text"},"のおすすめ"))},e.prototype.createLinkUrl=function(e,t){return t&&""!==t.context?c.a.mergeQuerystring(e,t.context):e},e}(T.PureComponent);ke=Se||(Se={}),be=function(n){function e(e){var t=n.call(this,e)||this;return t.state=M.__assign({},e),t}return M.__extends(e,n),e.prototype.render=function(){return T.createElement(ke,{isWktkLoading:this.state.isWktkLoading,dailyRecommendVideoFrame:this.state.dailyRecommendVideoFrame,dailyRecommendOthersFrame:this.state.dailyRecommendOthersFrame,context:this.state.context,skeletonHTML:this.state.skeletonHTML})},e}(T.Component),ke.Wrapper=be;var De,Fe,Ae=Se,Oe=function(){function e(e){this.seiga_api_url=e}return e.prototype.fetch=function(t,e){window.fetch(this.seiga_api_url+"api/v1/manga/pickups",{mode:"cors"}).then(function(e){if(!e.ok||200!==e.status)throw new Error;return e.json()}).then(function(e){t({mangaPickups:e.data.result})}).catch(function(){e()})},e}(),Ve=function(){return T.createElement("span",{className:"siteWide-FixedSVGIcon siteWide-NicoMangaIcon"})},He=function(n){function e(e){var t=n.call(this,e)||this;return t.onInView=function(){t.setState({isInView:!0})},t.state={isInView:!1},t}return M.__extends(e,n),e.prototype.render=function(){return this.props.isMangaLoading?T.createElement("div",{dangerouslySetInnerHTML:{__html:this.props.skeletonHTML}}):this.state.isInView?T.createElement(x,{className:"top-Section_Manga_Container",title:"ニコニコ漫画",icon:T.createElement(Ve,null),headerLink:this.props.context.sp_seiga_url+"manga/?ref="+_.a.REF_TOP_MANGA,isBusy:!1},this.renderContents()):T.createElement(w.a,{onInView:this.onInView},T.createElement("div",{dangerouslySetInnerHTML:{__html:this.props.skeletonHTML}}))},e.prototype.renderContents=function(){return this.props.mangaPickups&&0!==this.props.mangaPickups.length?T.createElement(G.a,{className:"top-Manga_Slider"},T.createElement(G.b,null,this.props.mangaPickups.slice(0,8).map(this.renderItem))):T.createElement(z.a,null)},e.prototype.renderItem=function(e){return T.createElement("div",{key:e.object.id,className:"top-Manga_Content"},T.createElement(N.a,{href:c.a.mergeQuerystring(e.object.meta.share_url,"ref="+_.a.REF_TOP_MANGA)},T.createElement("div",{className:"top-Manga_Thumbnail"},T.createElement("img",{className:"top-Manga_Thumbnail_Image",src:e.thumbnail_url})),T.createElement("div",{className:"top-Manga_Meta"},T.createElement("div",{className:"top-Manga_Meta_Message"},e.message))))},e}(T.PureComponent);De=He||(He={}),Fe=function(n){function e(e){var t=n.call(this,e)||this;return t.state=M.__assign({},e),t}return M.__extends(e,n),e.prototype.render=function(){return T.createElement(De,{context:this.state.context,isMangaLoading:this.state.isMangaLoading,mangaPickups:this.state.mangaPickups,skeletonHTML:this.state.skeletonHTML})},e}(T.Component),De.Wrapper=Fe;var Re,We,Pe=He,je=n(235),Ue=n(14),Xe=function(t){function e(e){return t.call(this,e)||this}return M.__extends(e,t),e.prototype.render=function(){var t=this,e=this.props.context.channel_live_list?this.props.context.channel_live_list:[];return T.createElement("div",{className:"top-Channel_Live","aria-busy":"false"},T.createElement("div",{className:"top-Section_SubSectionTitle"},"注目の番組"),T.createElement(G.a,{className:"top-Channel_Live_Slider"},T.createElement(G.b,null,e.map(function(e){return T.createElement("div",{key:"nicotop-channel-live-"+e.id},T.createElement(X,{title:e.title,startTimeMS:1e3*e.start_time,endTimeMS:1e3*e.end_time,thumbnailUrl:e.thumbnail_url,linkUrl:t.props.context.sp_live_url+"watch/"+e.id+"?ref="+_.a.REF_TOP_CHANNEL,onClick:function(){return t.onClick(e)}}))}))))},e.prototype.onClick=function(e){Ue.a.push("click","nicotop-channel-live",e.id)},e}(T.PureComponent),Ge=function(t){function e(e){return t.call(this,e)||this}return M.__extends(e,t),e.prototype.render=function(){return T.createElement("div",null,this.renderWktk())},e.prototype.renderWktk=function(){var t=this;return S.a.isEmptyFrame(this.props.nicotopChannelFrame)?null:T.createElement("div",{className:"top-Channel_Contents","aria-busy":"false"},T.createElement("div",{className:"top-Section_SubSectionTitle"},"チャンネル動画・番組・ブロマガ"),T.createElement(G.a,{className:"top-Channel_Contents_Slider"},T.createElement(G.b,null,this.props.nicotopChannelFrame.items.map(function(e){return t.renderWktkItem(e)}))))},e.prototype.renderWktkItem=function(e){var t=this;return T.createElement("div",{className:"top-Channel_Contents_Item","data-content_label":e.values.contenttype.context,key:e.itemId},T.createElement(N.a,{href:c.a.mergeQuerystring(e.values.url.url,"ref="+_.a.REF_TOP_CHANNEL),onClick:function(){return t.onClick(e)},target:e.values.url.isNewWindow?"_blank":void 0},T.createElement("div",{className:"top-Channel_Contents_Item_Thumbnail"},T.createElement("img",{className:"top-Channel_Contents_Item_Thumbnail_Image",src:e.values.thumbnail.url,alt:e.values.thumbnail.alt}),T.createElement("span",{className:"top-Channel_Contents_Item_Thumbnail_Label"},e.values.contenttype.context)),T.createElement("div",{className:"top-Channel_Contents_Item_Message"},e.values.title.context)))},e.prototype.onClick=function(e){Ue.a.push("click","nicotop-channel-content",e.itemId.toString())},e}(T.PureComponent),Ye=function(n){function e(e){var t=n.call(this,e)||this;return t.onInView=function(){t.setState({isInView:!0})},t.state={isInView:!1},t}return M.__extends(e,n),e.prototype.render=function(){if(this.props.isWktkLoading)return T.createElement("div",{dangerouslySetInnerHTML:{__html:this.props.skeletonHTML}});var e=T.createElement("img",{src:this.props.context.resource_base_url+"assets/img/top/channel_logo.png",alt:""}),t=this.props.nicotopChannelFrame?this.props.nicotopChannelFrame.items.map(function(e){return T.createElement(je.a,{key:e.itemId,label:"nicotop-channel-content-"+e.itemId})}):null,n=this.props.context.channel_live_list?this.props.context.channel_live_list.map(function(e){return T.createElement(je.a,{key:e.id,label:"nicotop-channel-live-"+e.id})}):null;return T.createElement("div",null,t,n,this.state.isInView?T.createElement(x,{className:"top-Channel_Container",isBusy:!1,icon:e,title:"ニコニコチャンネル",headerLink:this.props.context.sp_ch_base_url+"?ref="+_.a.REF_TOP_CHANNEL},T.createElement(Xe,{context:this.props.context}),T.createElement(Ge,{nicotopChannelFrame:this.props.nicotopChannelFrame})):T.createElement(w.a,{onInView:this.onInView},T.createElement("div",{dangerouslySetInnerHTML:{__html:this.props.skeletonHTML}})))},e}(T.PureComponent);Re=Ye||(Ye={}),We=function(n){function e(e){var t=n.call(this,e)||this;return t.state=M.__assign({},e),t}return M.__extends(e,n),e.prototype.render=function(){return T.createElement(Re,{context:this.state.context,isWktkLoading:this.state.isWktkLoading,nicotopChannelFrame:this.state.nicotopChannelFrame,skeletonHTML:this.state.skeletonHTML})},e}(T.Component),Re.Wrapper=We;var ze=Ye,Be=n(130),Ke=n.n(Be),Ze=n(45),Qe=n(47),$e=n(191);var Je=function(n){function e(e){var t=n.call(this,e)||this;return t.context=e,t}return M.__extends(e,n),e.prototype.getInitialState=function(){return M.__assign({},n.prototype.getInitialBaseState.call(this),{isWktkLoading:!0,isMangaLoading:!0,mangaPickups:[],recommend:{videos:[],isFetching:!1,isInitialFetchFailed:!1},recommendLight:{videos:[],isFetching:!1,isInitialFetchFailed:!1}})},e.prototype.execute=function(){var o=this,a=new f.a(this.context.spweb_url);s(".jsCountTarget").on("click",function(e){var t=s(e.currentTarget);if(t.data("counter_url")in _.c){var n=t.attr("href"),r=_.c[t.data("counter_url")]+"?"+c.a.objectToQuery({url:n}),i=o.isBlank(t.attr("target"));i||e.preventDefault(),a.access(r,function(){i||(window.location.href=n)})}});var e=this.getInitialState(),t=this.initializeComponents(e);n.prototype.initializeComponent.call(this,e,t),this.initializeWakutkool(t),this.initializeNicovideoList(t),this.initializeManga(t),this.initializeCarousel(s(".top-Section_RpgAtsumaru_Slider"))},e.prototype.initializeComponents=function(e){var n,t=document.getElementById("jsLiveContainer"),r=(k.render(T.createElement(Q.Wrapper,{context:this.context,skeletonHTML:t.innerHTML}),t),document.getElementById("jsNicovideoContainer")),i=k.render(T.createElement(me.Wrapper,M.__assign({context:this.context},e,{skeletonHTML:r.innerHTML})),r),o=document.getElementById("jsSpecialPickupContainer"),a=k.render(T.createElement(O.Wrapper,M.__assign({},e,{skeletonHTML:o.innerHTML})),o),s=document.getElementById("jsLargeEnjoyContainer"),c=k.render(T.createElement(W.Wrapper,M.__assign({},e,{skeletonHTML:s.innerHTML})),s),u=document.getElementById("jsDAnimeContainer"),l=k.render(T.createElement(ve.Wrapper,M.__assign({},e,{skeletonHTML:u.innerHTML})),u),m=document.getElementById("jsEnjoyContainer"),p=k.render(T.createElement(Ie.Wrapper,M.__assign({},e,{skeletonHTML:m.innerHTML})),m),d=document.getElementById("jsNAnimeContainer"),h=k.render(T.createElement(we.Wrapper,M.__assign({},e,{skeletonHTML:d.innerHTML})),d),f=document.getElementById("jsDailyRecommendContainer"),_=k.render(T.createElement(Ae.Wrapper,M.__assign({context:this.context},e,{skeletonHTML:f.innerHTML})),f),v=document.getElementById("jsMangaContainer"),g=k.render(T.createElement(Pe.Wrapper,M.__assign({context:this.context},e,{skeletonHTML:v.innerHTML})),v),y=document.getElementById("jsChannelContainer"),E=k.render(T.createElement(ze.Wrapper,M.__assign({context:this.context},e,{skeletonHTML:y.innerHTML})),y),I=new b.a(a,[a,c,i,l,p,h,_,g,E]);return n=I,q.a.on("fetchRecommendVideo",function(e){var t={videos:[],isFetching:!0,isInitialFetchFailed:!1};e.recipeId===Qe.b.SpwebTopVideo?n.setState(function(e){return{recommend:t}}):e.recipeId===Qe.b.TopLightRecommend&&n.setState(function(e){return{recommendLight:t}})}),q.a.on("fetchRecommendVideoSuccess",function(e){var t={videos:e.result.items,recommendId:e.result.recommendId,isFetching:!1,isInitialFetchFailed:!1};e.params.recipeId===Qe.b.SpwebTopVideo?n.setState(function(e){return{recommend:t}}):e.params.recipeId===Qe.b.TopLightRecommend&&n.setState(function(e){return{recommendLight:t}})}),q.a.on("fetchRecommendVideoError",function(e){var t={videos:[],isFetching:!1,isInitialFetchFailed:!0};e.params.recipeId===Qe.b.SpwebTopVideo?n.setState(function(e){return{recommend:t}}):e.params.recipeId===Qe.b.TopLightRecommend&&n.setState(function(e){return{recommendLight:t}})}),I},e.prototype.isBlank=function(e){return"_blank"===e},e.prototype.initializeNicovideoList=function(e){new $e.a(this.context),this.context.is_login&&q.a.emit("fetchRecommendVideo",{contentTypeFilter:"video",recipeId:Qe.b.SpwebTopVideo,recipeVersion:1}),this.context.abtest_status===se.a.LIGHT_RECOMMEND&&q.a.emit("fetchRecommendVideo",{recipeId:Qe.b.TopLightRecommend,recipeVersion:1,contentTypeFilter:"video"})},e.prototype.initializeManga=function(e){e.setState(function(e){return{isMangaLoading:!0}}),new Oe(this.context.seiga_api_url).fetch(function(t){e.setState(function(e){return{mangaPickups:t.mangaPickups,isMangaLoading:!1}})},function(){e.setState(function(e){return{isMangaLoading:!1}})})},e.prototype.initializeWakutkool=function(p){p.setState(function(e){return{isWktkLoading:!0}}),g.WKTKClient.init({baseURL:this.context.public_api_url.replace(/\/$/,""),frontendId:this.context.frontend_id,responseType:"sp"}),g.WKTKClient.fetch({frames:[y.a.special_pickup,y.a.large_enjoy,y.a.d_anime,y.a.enjoy,y.a.n_anime_content,y.a.n_anime_link,y.a.recommended_video,y.a.daily_recommend_video,y.a.daily_recommend_others,y.a.nicotop_channel]}).then(function(e){var t=e.frames,n=t[0],r=t[1],i=t[2],o=t[3],a=t[4],s=t[5],c=t[6],u=t[7],l=t[8],m=t[9];p.setState(function(e){return{specialPickupFrame:n,largeEnjoyFrame:r,dAnimeFrame:i,enjoyFrame:o,nAnimeContentFrame:a,nAnimeLinkFrame:s,recommendedVideoFrame:c,dailyRecommendVideoFrame:u,dailyRecommendOthersFrame:l,nicotopChannelFrame:m,isWktkLoading:!1}})}).catch(function(e){p.setState(function(e){return{isWktkLoading:!1}})})},e.prototype.initializeCarousel=function(e){var r=!(v.b.is_iOS()&&v.b.os_major_version()<9);e.each(function(e,t){var n=t.getElementsByClassName(G.a.classNameSlideContainer)[0];n&&.95*window.innerWidth<n.clientWidth&&new Ke.a(t,{frameClassName:G.a.classNameFrame,itemsClassName:G.a.classNameSlideContainer,scrollDeltaCoefficient:1.2,inertia:r,inertiaAcceleration:.0042})})},e}(Ze.a);s(function(){Object(r.a)(),new m(s("#jsPersonalFrame").data()).execute(),Object(h.a)(),new Je(s("#jsIndexDataContainer").data()).execute()})},97:function(e,t,n){var g=n(62),y=n(135),E=n(136),I=Math.max,M=Math.min;e.exports=function(r,i,e){var o,a,s,c,u,l,m=0,p=!1,d=!1,t=!0;if("function"!=typeof r)throw new TypeError("Expected a function");function h(e){var t=o,n=a;return o=a=void 0,m=e,c=r.apply(n,t)}function f(e){var t=e-l;return void 0===l||i<=t||t<0||d&&s<=e-m}function _(){var e,t,n=y();if(f(n))return v(n);u=setTimeout(_,(t=i-((e=n)-l),d?M(t,s-(e-m)):t))}function v(e){return u=void 0,t&&o?h(e):(o=a=void 0,c)}function n(){var e,t=y(),n=f(t);if(o=arguments,a=this,l=t,n){if(void 0===u)return m=e=l,u=setTimeout(_,i),p?h(e):c;if(d)return u=setTimeout(_,i),h(l)}return void 0===u&&(u=setTimeout(_,i)),c}return i=E(i)||0,g(e)&&(p=!!e.leading,s=(d="maxWait"in e)?I(E(e.maxWait)||0,i):s,t="trailing"in e?!!e.trailing:t),n.cancel=function(){void 0!==u&&clearTimeout(u),o=l=a=u=void(m=0)},n.flush=function(){return void 0===u?c:v(y())},n}},98:function(e,t,n){var i=n(8);e.exports=function(e,t){var n=i(e),r=i(t);return n.getTime()-r.getTime()}},99:function(e,t,n){var o=n(97),a=n(62);e.exports=function(e,t,n){var r=!0,i=!0;if("function"!=typeof e)throw new TypeError("Expected a function");return a(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),o(e,t,{leading:r,maxWait:t,trailing:i})}}});